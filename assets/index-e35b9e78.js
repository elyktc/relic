var Al=Object.defineProperty;var Rl=(e,t,n)=>t in e?Al(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Gt=(e,t,n)=>(Rl(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))l(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&l(r)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function j(){}const Tt=e=>e;function en(e,t){for(const n in t)e[n]=t[n];return e}function rl(e){return e()}function Hn(){return Object.create(null)}function Z(e){e.forEach(rl)}function Yt(e){return typeof e=="function"}function Q(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Ll(e){return Object.keys(e).length===0}function ol(e,...t){if(e==null)return j;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function D(e){let t;return ol(e,n=>t=n)(),t}function Y(e,t,n){e.$$.on_destroy.push(ol(t,n))}function je(e){return e??""}function Ct(e,t,n){return e.set(n),t}const cl=typeof window<"u";let ee=cl?()=>window.performance.now():()=>Date.now(),dn=cl?e=>requestAnimationFrame(e):j;const Dt=new Set;function ul(e){Dt.forEach(t=>{t.c(e)||(Dt.delete(t),t.f())}),Dt.size!==0&&dn(ul)}function ne(e){let t;return Dt.size===0&&dn(ul),{promise:new Promise(n=>{Dt.add(t={c:e,f:n})}),abort(){Dt.delete(t)}}}function p(e,t){e.appendChild(t)}function fl(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function Ol(e){const t=m("style");return Pl(fl(e),t),t.sheet}function Pl(e,t){return p(e.head||e,t),t.sheet}function I(e,t,n){e.insertBefore(t,n||null)}function S(e){e.parentNode&&e.parentNode.removeChild(e)}function m(e){return document.createElement(e)}function Ul(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function U(e){return document.createTextNode(e)}function M(){return U(" ")}function al(){return U("")}function x(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function g(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Dl(e){return Array.from(e.childNodes)}function st(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function pt(e,t,n,l){n===null?e.style.removeProperty(t):e.style.setProperty(t,n,l?"important":"")}function rt(e,t,n){e.classList[n?"add":"remove"](t)}function dl(e,t,{bubbles:n=!1,cancelable:l=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(e,n,l,t),i}class Fl{constructor(t=!1){this.is_svg=!1,this.is_svg=t,this.e=this.n=null}c(t){this.h(t)}m(t,n,l=null){this.e||(this.is_svg?this.e=Ul(n.nodeName):this.e=m(n.nodeName),this.t=n,this.c(t)),this.i(l)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let n=0;n<this.n.length;n+=1)I(this.t,this.n[n],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(S)}}function Bn(e,t){return new e(t)}const Ne=new Map;let xe=0;function ql(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function Hl(e,t){const n={stylesheet:Ol(t),rules:{}};return Ne.set(e,n),n}function Jt(e,t,n,l,i,s,r,o=0){const c=16.666/l;let u=`{
`;for(let y=0;y<=1;y+=c){const E=t+(n-t)*s(y);u+=y*100+`%{${r(E,1-E)}}
`}const f=u+`100% {${r(n,1-n)}}
}`,a=`__svelte_${ql(f)}_${o}`,d=fl(e),{stylesheet:_,rules:h}=Ne.get(d)||Hl(d,e);h[a]||(h[a]=!0,_.insertRule(`@keyframes ${a} ${f}`,_.cssRules.length));const k=e.style.animation||"";return e.style.animation=`${k?`${k}, `:""}${a} ${l}ms linear ${i}ms 1 both`,xe+=1,a}function Qt(e,t){const n=(e.style.animation||"").split(", "),l=n.filter(t?s=>s.indexOf(t)<0:s=>s.indexOf("__svelte")===-1),i=n.length-l.length;i&&(e.style.animation=l.join(", "),xe-=i,xe||Bl())}function Bl(){dn(()=>{xe||(Ne.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&S(t)}),Ne.clear())})}function Yl(e,t,n,l){if(!t)return j;const i=e.getBoundingClientRect();if(t.left===i.left&&t.right===i.right&&t.top===i.top&&t.bottom===i.bottom)return j;const{delay:s=0,duration:r=300,easing:o=Tt,start:c=ee()+s,end:u=c+r,tick:f=j,css:a}=n(e,{from:t,to:i},l);let d=!0,_=!1,h;function k(){a&&(h=Jt(e,0,1,r,s,o,a)),s||(_=!0)}function y(){a&&Qt(e,h),d=!1}return ne(E=>{if(!_&&E>=c&&(_=!0),_&&E>=u&&(f(1,0),y()),!d)return!1;if(_){const $=E-c,b=0+1*o($/r);f(b,1-b)}return!0}),k(),f(0,1),y}function Kl(e){const t=getComputedStyle(e);if(t.position!=="absolute"&&t.position!=="fixed"){const{width:n,height:l}=t,i=e.getBoundingClientRect();e.style.position="absolute",e.style.width=n,e.style.height=l,pl(e,i)}}function pl(e,t){const n=e.getBoundingClientRect();if(t.left!==n.left||t.top!==n.top){const l=getComputedStyle(e),i=l.transform==="none"?"":l.transform;e.style.transform=`${i} translate(${t.left-n.left}px, ${t.top-n.top}px)`}}let Zt;function zt(e){Zt=e}function pn(){if(!Zt)throw new Error("Function called outside component initialization");return Zt}function Et(e){pn().$$.on_mount.push(e)}function _l(e){pn().$$.on_destroy.push(e)}function ml(){const e=pn();return(t,n,{cancelable:l=!1}={})=>{const i=e.$$.callbacks[t];if(i){const s=dl(t,n,{cancelable:l});return i.slice().forEach(r=>{r.call(e,s)}),!s.defaultPrevented}return!0}}const Vt=[],nn=[],Me=[],Yn=[],Gl=Promise.resolve();let ln=!1;function Xl(){ln||(ln=!0,Gl.then(hl))}function J(e){Me.push(e)}const Ze=new Set;let we=0;function hl(){const e=Zt;do{for(;we<Vt.length;){const t=Vt[we];we++,zt(t),Wl(t.$$)}for(zt(null),Vt.length=0,we=0;nn.length;)nn.pop()();for(let t=0;t<Me.length;t+=1){const n=Me[t];Ze.has(n)||(Ze.add(n),n())}Me.length=0}while(Vt.length);for(;Yn.length;)Yn.pop()();ln=!1,Ze.clear(),zt(e)}function Wl(e){if(e.fragment!==null){e.update(),Z(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(J)}}let Xt;function _n(){return Xt||(Xt=Promise.resolve(),Xt.then(()=>{Xt=null})),Xt}function St(e,t,n){e.dispatchEvent(dl(`${t?"intro":"outro"}${n}`))}const Ce=new Set;let _t;function mt(){_t={r:0,c:[],p:_t}}function ht(){_t.r||Z(_t.c),_t=_t.p}function T(e,t){e&&e.i&&(Ce.delete(e),e.i(t))}function N(e,t,n,l){if(e&&e.o){if(Ce.has(e))return;Ce.add(e),_t.c.push(()=>{Ce.delete(e),l&&(n&&e.d(1),l())}),e.o(t)}else l&&l()}const mn={duration:0};function hn(e,t,n){const l={direction:"in"};let i=t(e,n,l),s=!1,r,o,c=0;function u(){r&&Qt(e,r)}function f(){const{delay:d=0,duration:_=300,easing:h=Tt,tick:k=j,css:y}=i||mn;y&&(r=Jt(e,0,1,_,d,h,y,c++)),k(0,1);const E=ee()+d,$=E+_;o&&o.abort(),s=!0,J(()=>St(e,!0,"start")),o=ne(b=>{if(s){if(b>=$)return k(1,0),St(e,!0,"end"),u(),s=!1;if(b>=E){const v=h((b-E)/_);k(v,1-v)}}return s})}let a=!1;return{start(){a||(a=!0,Qt(e),Yt(i)?(i=i(l),_n().then(f)):f())},invalidate(){a=!1},end(){s&&(u(),s=!1)}}}function le(e,t,n){const l={direction:"out"};let i=t(e,n,l),s=!0,r;const o=_t;o.r+=1;function c(){const{delay:u=0,duration:f=300,easing:a=Tt,tick:d=j,css:_}=i||mn;_&&(r=Jt(e,1,0,f,u,a,_));const h=ee()+u,k=h+f;J(()=>St(e,!1,"start")),ne(y=>{if(s){if(y>=k)return d(0,1),St(e,!1,"end"),--o.r||Z(o.c),!1;if(y>=h){const E=a((y-h)/f);d(1-E,E)}}return s})}return Yt(i)?_n().then(()=>{i=i(l),c()}):c(),{end(u){u&&i.tick&&i.tick(1,0),s&&(r&&Qt(e,r),s=!1)}}}function ot(e,t,n,l){const i={direction:"both"};let s=t(e,n,i),r=l?0:1,o=null,c=null,u=null;function f(){u&&Qt(e,u)}function a(_,h){const k=_.b-r;return h*=Math.abs(k),{a:r,b:_.b,d:k,duration:h,start:_.start,end:_.start+h,group:_.group}}function d(_){const{delay:h=0,duration:k=300,easing:y=Tt,tick:E=j,css:$}=s||mn,b={start:ee()+h,b:_};_||(b.group=_t,_t.r+=1),o||c?c=b:($&&(f(),u=Jt(e,r,_,k,h,y,$)),_&&E(0,1),o=a(b,k),J(()=>St(e,_,"start")),ne(v=>{if(c&&v>c.start&&(o=a(c,k),c=null,St(e,o.b,"start"),$&&(f(),u=Jt(e,r,o.b,o.duration,0,y,s.css))),o){if(v>=o.end)E(r=o.b,1-r),St(e,o.b,"end"),c||(o.b?f():--o.group.r||Z(o.group.c)),o=null;else if(v>=o.start){const w=v-o.start;r=o.a+o.d*y(w/o.duration),E(r,1-r)}}return!!(o||c)}))}return{run(_){Yt(s)?_n().then(()=>{s=s(i),d(_)}):d(_)},end(){f(),o=c=null}}}function Vl(e,t){N(e,1,1,()=>{t.delete(e.key)})}function zl(e,t){e.f(),Vl(e,t)}function Jl(e,t,n,l,i,s,r,o,c,u,f,a){let d=e.length,_=s.length,h=d;const k={};for(;h--;)k[e[h].key]=h;const y=[],E=new Map,$=new Map;for(h=_;h--;){const C=a(i,s,h),R=n(C);let L=r.get(R);L?l&&L.p(C,t):(L=u(R,C),L.c()),E.set(R,y[h]=L),R in k&&$.set(R,Math.abs(h-k[R]))}const b=new Set,v=new Set;function w(C){T(C,1),C.m(o,f),r.set(C.key,C),f=C.first,_--}for(;d&&_;){const C=y[_-1],R=e[d-1],L=C.key,P=R.key;C===R?(f=C.first,d--,_--):E.has(P)?!r.has(L)||b.has(L)?w(C):v.has(P)?d--:$.get(L)>$.get(P)?(v.add(L),w(C)):(b.add(P),d--):(c(R,r),d--)}for(;d--;){const C=e[d];E.has(C.key)||c(C,r)}for(;_;)w(y[_-1]);return y}function Ql(e,t){const n={},l={},i={$$scope:1};let s=e.length;for(;s--;){const r=e[s],o=t[s];if(o){for(const c in r)c in o||(l[c]=1);for(const c in o)i[c]||(n[c]=o[c],i[c]=1);e[s]=o}else for(const c in r)i[c]=1}for(const r in l)r in n||(n[r]=void 0);return n}function Zl(e){return typeof e=="object"&&e!==null?e:{}}function G(e){e&&e.c()}function q(e,t,n,l){const{fragment:i,after_update:s}=e.$$;i&&i.m(t,n),l||J(()=>{const r=e.$$.on_mount.map(rl).filter(Yt);e.$$.on_destroy?e.$$.on_destroy.push(...r):Z(r),e.$$.on_mount=[]}),s.forEach(J)}function H(e,t){const n=e.$$;n.fragment!==null&&(Z(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ti(e,t){e.$$.dirty[0]===-1&&(Vt.push(e),Xl(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function tt(e,t,n,l,i,s,r,o=[-1]){const c=Zt;zt(e);const u=e.$$={fragment:null,ctx:[],props:s,update:j,not_equal:i,bound:Hn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:Hn(),dirty:o,skip_bound:!1,root:t.target||c.$$.root};r&&r(u.root);let f=!1;if(u.ctx=n?n(e,t.props||{},(a,d,..._)=>{const h=_.length?_[0]:d;return u.ctx&&i(u.ctx[a],u.ctx[a]=h)&&(!u.skip_bound&&u.bound[a]&&u.bound[a](h),f&&ti(e,a)),d}):[],u.update(),f=!0,Z(u.before_update),u.fragment=l?l(u.ctx):!1,t.target){if(t.hydrate){const a=Dl(t.target);u.fragment&&u.fragment.l(a),a.forEach(S)}else u.fragment&&u.fragment.c();t.intro&&T(e.$$.fragment),q(e,t.target,t.anchor,t.customElement),hl()}zt(c)}class et{$destroy(){H(this,1),this.$destroy=j}$on(t,n){if(!Yt(n))return j;const l=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return l.push(n),()=>{const i=l.indexOf(n);i!==-1&&l.splice(i,1)}}$set(t){this.$$set&&!Ll(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Ue=10,ei=80,ni=6,li=6,vl=20,gl=2,ii=2,bl=50,kl=1,si=1e3,ri=1,oi=5,ci=50,ui=7,fi=9,ai=3,di=2,tn=300,Kn=10,yl=200,sn=200,rn=500,Gn=200,pi=.1,Ft="enc",vn="user",Pt=[];function ut(e,t=j){let n;const l=new Set;function i(o){if(Q(e,o)&&(e=o,n)){const c=!Pt.length;for(const u of l)u[1](),Pt.push(u,e);if(c){for(let u=0;u<Pt.length;u+=2)Pt[u][0](Pt[u+1]);Pt.length=0}}}function s(o){i(o(e))}function r(o,c=j){const u=[o,c];return l.add(u),l.size===1&&(n=t(i)||j),o(e),()=>{l.delete(u),l.size===0&&(n(),n=null)}}return{set:i,update:s,subscribe:r}}function F(e,t){return e??(e=0),t??(t=0),Math.floor(Math.random()*(e-t+1))+t}function wt(e,t){setTimeout(t,e)}function bt(e,t){t??(t=pi);let n=Math.ceil(Math.abs(e*t));return F(e+n,e-n)}function Ut(e){return new Intl.NumberFormat().format(e)}function Ae(e){e.set(D(e)+1)}function _i(e){return e<.5?4*e*e*e:.5*Math.pow(2*e-2,3)+1}function Re(e){const t=e-1;return t*t*t+1}function mi(e,{delay:t=0,duration:n=400,easing:l=_i,amount:i=5,opacity:s=0}={}){const r=getComputedStyle(e),o=+r.opacity,c=r.filter==="none"?"":r.filter,u=o*(1-s);return{delay:t,duration:n,easing:l,css:(f,a)=>`opacity: ${o-u*a}; filter: ${c} blur(${a*i}px);`}}function De(e,{delay:t=0,duration:n=400,easing:l=Tt}={}){const i=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:l,css:s=>`opacity: ${s*i}`}}function Fe(e,{delay:t=0,duration:n=400,easing:l=Re,x:i=0,y:s=0,opacity:r=0}={}){const o=getComputedStyle(e),c=+o.opacity,u=o.transform==="none"?"":o.transform,f=c*(1-r);return{delay:t,duration:n,easing:l,css:(a,d)=>`
			transform: ${u} translate(${(1-a)*i}px, ${(1-a)*s}px);
			opacity: ${c-f*d}`}}const it={TITLE:0,MAP:1,MENU:2,ENC:3,CITY:4,SLEEP:5},It=ut(it.TITLE);function kt(){It.set(it.MAP)}function $l(){It.set(it.MENU)}function hi(){It.set(it.ENC)}function gn(){It.set(it.TITLE)}function vi(){It.set(it.CITY)}function gi(){It.set(it.SLEEP)}function ct(e){return De(e,{duration:yl})}class qe{constructor(t,n,l,i,s,r,o){Gt(this,"evading",()=>this.status.evading);Gt(this,"fleeing",()=>this.status.fleeing);Gt(this,"ko",()=>this.hp<=0);this.name=t,this.lvl=n,this.hpbase=l,this.strbase=i,this.dexbase=s,this.hp=l,this.str=i,this.dex=s,this.xp=r,this.gp=o,this.status={evading:!1,fleeing:!1}}}function ie(e,t,n){e??(e=10),t??(t=1),n??(n=1);let l=Math.round(e*t/(t+n)),i=Math.round(e*n/(t+n)),s=Math.min(Math.max(l-i,0),l-1),r=Math.min(Math.max(i-l,0),i-1),o=F(l,s);e-=o;let c=F(i,r);return e-=c,{hp:Math.max(e,0),str:o,dex:c}}let Ee;const bi=new Uint8Array(16);function ki(){if(!Ee&&(Ee=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ee))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ee(bi)}const B=[];for(let e=0;e<256;++e)B.push((e+256).toString(16).slice(1));function yi(e,t=0){return(B[e[t+0]]+B[e[t+1]]+B[e[t+2]]+B[e[t+3]]+"-"+B[e[t+4]]+B[e[t+5]]+"-"+B[e[t+6]]+B[e[t+7]]+"-"+B[e[t+8]]+B[e[t+9]]+"-"+B[e[t+10]]+B[e[t+11]]+B[e[t+12]]+B[e[t+13]]+B[e[t+14]]+B[e[t+15]]).toLowerCase()}const $i=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Xn={randomUUID:$i};function wi(e,t,n){if(Xn.randomUUID&&!t&&!e)return Xn.randomUUID();e=e||{};const l=e.random||(e.rng||ki)();if(l[6]=l[6]&15|64,l[8]=l[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=l[i];return t}return yi(l)}function Ei(){let e="user",t=1;var n=ie();let l=n.hp+ei,i=n.str+ni,s=n.dex+li,r=0,o=0;return new qe(e,t,l,i,s,o,r)}function bn(e){return e??(e=D(A)),Math.pow(e.lvl,3)+e.lvl*200-1}function Mi(){let e=D(A),t=D(Le),n=D(Oe);for(;e.xp>bn(e);){e.lvl++;let l=Math.round(Ue/2),i=ie(l,t,n);e.hpbase+=i.hp+l,e.strbase=Math.max(e.strbase+i.str,1),e.dexbase=Math.max(e.dexbase+i.dex,1),t=void 0,n=void 0}e.hp=e.hpbase,e.str=e.strbase,e.dex=e.dexbase,A.set(e),Le.set(0),Oe.set(0)}function Ci(){let e=Ei();console.log(JSON.stringify(e)),A.set(e),Le.set(0),Oe.set(0),wl.set(0)}const Le=ut(0),Oe=ut(0),wl=ut(0),A=ut();let O,V,z,He,Be,qt=!0,kn=fi,Wn=ai,on=0,yn=0;const Si="u",$n="f",Se="p",wn="t",El="w",Te="c";function Ml(e,t,n){e=Math.max(e,1),O=qt?[]:O??[];let l=t??Math.floor(e/2),i=n??Math.floor(e/2);V=l,z=i,qt&&(He=V,Be=z,on=0,yn=0),cn(l,i,dt.CITY);for(let s=1;s<e;s++){let r=s%2==0?s:-s;l+=r,i+=r,cn(l,i)}O=Cl(!0,e,t,n)}function Ti(e,t,n,l){if(!e)return e;l??(l=kn);let i=Math.floor(l/2);t??(t=i),n??(n=i);let s=[];for(let r=0;r<l;r++)for(let o=0;o<l;o++){let c=t-i+r,u=n-i+o,f=(e[c]&&e[c][u])??$n;s[r]??(s[r]=[]),s[r][o]=f}return s[i][i]=Si,s}function Ii(){let e=Tl();if(V<e&&(O.splice(0,0,[]),He++,V=e),z<e){let t=Il();for(let n=0;n<t;n++)O[n].splice(0,0,void 0);Be++,z=e}}function ji(e){return[...e.map(t=>[...t])]}function Cl(e,t,n,l){var a;if(!O)return O;t=t??kn,n=n??V,l=l??z;let i=ji(O),s=Il(),r=Ni(),o=Math.min(t??s,s),c=Math.min(t??r,r),u=Math.max((n??0)-Math.floor(o/2),0),f=Math.max((l??0)-Math.floor(c/2),0);for(let d=0;d<o;d++)for(let _=0;_<c;_++){let h=u+d,k=f+_;i[h]??(i[h]=[]);let y=e?Ye(h,k):$n;(a=i[h])[k]??(a[k]=y)}return i}function cn(e,t,n){var l;return e??(e=V),t??(t=z),O??(O=[]),O[e]??(O[e]=[]),(l=O[e])[t]??(l[t]=n??Ye(e,t)),n}function Ye(e,t){if(e??(e=V),t??(t=z),O&&O[e]&&O[e][t])return O[e][t];let n,l=F(tn*2,tn);if(l<on++&&l%tn==0)n=Te,on=0;else{let i=Sl(e,t);i=i.filter(r=>r!==Te);let s=F(i.length+1);if(s>=i.length){let r=[Se,wn];s=F(r.length+di),n=s>=r.length?Se:r[s]}else n=i[s]}return qt&&(n==Te||n==El)&&(n=Se),qt||yn++,n}function Sl(e,t){e??(e=V),t??(t=z);let n=[];for(let l=e-1;l<=e+1;l++)for(let i=t-1;i<=t+1;i++)O[l]&&O[l][i]&&O[l][i]&&n.push(O[l][i]);return n}function Tl(){return Ye()==wn?Math.floor(Wn/2):Wn}function Il(e){return e??(e=O??[]),e.length}function Ni(e){e??(e=O??[]);let t=e.map(n=>n.length).sort((n,l)=>n-l);return t[t.length-1]}function xi(e){if(V+=e.x,z+=e.y,Ii(),cn()==El)return V-=e.x,z-=e.y,!1;{let n=Tl();n>0&&Ml(n*2+1,V,z)}return!0}function Ai(){let e=Cl(!1);return Ti(e,V,z,kn)}function Ri(){let e=Math.abs(V-He),t=Math.abs(z-Be);return Math.ceil(Math.hypot(e,t))}function Li(){return yn}function Oi(){return{x:V,y:z,abs:{x:V-He,y:z-Be},terrain:Ye(),nearby:Sl(),distance:Ri()}}function Pi(){qt=!0,Ml(ui),qt=!1}const dt={FOG:$n,PLAIN:Se,FOREST:wn,CITY:Te},te=ut(0),vt={miniMap:Ai,location:Oi,move:xi,getExplored:Li};function Ui(e){let t,n,l,i,s,r,o,c,u,f,a,d;return{c(){t=m("div"),n=m("div"),l=m("h1"),l.textContent="Relic",i=M(),s=m("p"),s.textContent="by elyktc",r=M(),o=m("div"),c=m("button"),c.textContent="Start",g(l,"class","svelte-19wnq64"),pt(l,"margin-right","50px"),pt(s,"margin-left","100px"),g(n,"class","view col svelte-19wnq64"),g(o,"class","ctrls")},m(_,h){I(_,t,h),p(t,n),p(n,l),p(n,i),p(n,s),p(t,r),p(t,o),p(o,c),f=!0,a||(d=[x(window,"keydown",e[0]),x(c,"click",kt)],a=!0)},p:j,i(_){f||(J(()=>{u||(u=ot(t,ct,{},!0)),u.run(1)}),f=!0)},o(_){u||(u=ot(t,ct,{},!1)),u.run(0),f=!1},d(_){_&&S(t),_&&u&&u.end(),a=!1,Z(d)}}}function Di(e,t,n){let l;Y(e,te,s=>n(1,l=s));function i(s){switch(s.key){case" ":kt();break}}return Et(()=>{Ci(),Ct(te,l=0,l)}),[i]}class Fi extends et{constructor(t){super(),tt(this,t,Di,Ui,Q,{})}}function qi(e){let t,n,l,i,s,r,o,c,u,f,a,d,_,h,k,y,E,$,b,v,w,C,R;return{c(){t=m("div"),n=m("div"),l=m("button"),l.textContent="NW",i=M(),s=m("button"),s.textContent="N",r=M(),o=m("button"),o.textContent="NE",c=M(),u=m("div"),f=m("button"),f.textContent="W",a=M(),d=m("button"),d.textContent="Menu",_=M(),h=m("button"),h.textContent="E",k=M(),y=m("div"),E=m("button"),E.textContent="SW",$=M(),b=m("button"),b.textContent="S",v=M(),w=m("button"),w.textContent="SE",g(t,"class","ctrls")},m(L,P){I(L,t,P),p(t,n),p(n,l),p(n,i),p(n,s),p(n,r),p(n,o),p(t,c),p(t,u),p(u,f),p(u,a),p(u,d),p(u,_),p(u,h),p(t,k),p(t,y),p(y,E),p(y,$),p(y,b),p(y,v),p(y,w),C||(R=[x(window,"keydown",e[8]),x(l,"click",e[0]),x(s,"click",e[1]),x(o,"click",e[2]),x(f,"click",e[3]),x(d,"click",$l),x(h,"click",e[4]),x(E,"click",e[5]),x(b,"click",e[6]),x(w,"click",e[7])],C=!0)},p:j,i:j,o:j,d(L){L&&S(t),C=!1,Z(R)}}}function Hi(e){const t=ml(),n=()=>t("move",{x:-1,y:-1}),l=()=>t("move",{x:-1,y:0}),i=()=>t("move",{x:-1,y:1}),s=()=>t("move",{x:0,y:-1}),r=()=>t("move",{x:0,y:1}),o=()=>t("move",{x:1,y:-1}),c=()=>t("move",{x:1,y:0}),u=()=>t("move",{x:1,y:1});function f(a){switch(a.key){case"x":$l();break;case"q":n();break;case"w":l();break;case"e":i();break;case"a":s();break;case"d":r();break;case"z":o();break;case"s":c();break;case"c":u();break}}return[n,l,i,s,r,o,c,u,f]}class Bi extends et{constructor(t){super(),tt(this,t,Hi,qi,Q,{})}}let Ie=new Map;function Yi(e,t){this.name=e,this.innCost=t}function Ki(){let e=wi().substring(0,8),t=F(oi,ci);return new Yi(e,t)}function Gi(e,t){let n=`${e}.${t}`;return Ie.has(n)||Ie.set(n,Ki()),Ie.get(n)}function Xi(){Ie.clear()}function Wi(e){let t,n,l,i,s,r;return i=new Bi({}),i.$on("move",e[2]),{c(){t=m("div"),n=m("div"),l=M(),G(i.$$.fragment),g(n,"class","view field svelte-z27jc")},m(o,c){I(o,t,c),p(t,n),n.innerHTML=e[0],p(t,l),q(i,t,null),r=!0},p(o,[c]){(!r||c&1)&&(n.innerHTML=o[0])},i(o){r||(T(i.$$.fragment,o),J(()=>{s||(s=ot(t,ct,{},!0)),s.run(1)}),r=!0)},o(o){N(i.$$.fragment,o),s||(s=ot(t,ct,{},!1)),s.run(0),r=!1},d(o){o&&S(t),H(i),o&&s&&s.end()}}}function Vi(e,t,n){let l;Y(e,te,f=>n(4,l=f));function i(f){let a=_=>_.map(h=>`<div class="icon map-${h}"></div>`),d=f.map(_=>a(_).join(""));n(0,o=`<div class="row">${d.join('</div><div class="row">')}</div>`)}function s(){return vt.location().terrain==dt.FOREST?Math.ceil(Kn/2):Kn}function r(f){c&&vt.move(f)&&(Ct(te,l++,l),i(vt.miniMap()),vt.location().terrain==dt.CITY?(c=!1,vi()):F(s())==1&&(c=!1,hi()))}Et(()=>{l||(Pi(),Xi()),c=!0,i(vt.miniMap())});let o="",c;return[o,r,f=>r(f.detail)]}let zi=class extends et{constructor(t){super(),tt(this,t,Vi,Wi,Q,{})}};function Ji(e){let t,n,l,i=e[0].name+"",s,r,o,c,u,f,a=e[0].lvl+"",d,_,h,k,y,E,$=e[0].xp+"",b,v,w,C,R,L,P,ft,jt,nt,yt,W=e[0].hp+"",Ge,Cn,se=e[0].hpbase+"",Xe,Sn,Nt,re,Tn,oe,ce=e[0].str+"",We,In,xt,ue,jn,fe,ae=e[0].dex+"",Ve,Nn,Mt,de,xn,pe,_e=Ut(e[0].gp)+"",ze,An,At,me,Rn,he,ve=Ut(e[1])+"",Je,Ln,Rt,ge,On,be,Pn,Lt,ke,Un,ye,Dn,Ot,Kt,Fn,$e,$t,lt,Qe,qn;return{c(){t=m("div"),n=m("div"),l=m("h1"),s=U(i),r=M(),o=m("div"),c=m("div"),c.textContent="Level",u=M(),f=m("div"),d=U(a),_=M(),h=m("div"),k=m("div"),k.textContent="Experience",y=M(),E=m("div"),b=U($),v=M(),w=m("div"),C=m("div"),C.textContent="Next level at",R=M(),L=m("div"),L.textContent=`${bn()}`,P=M(),ft=m("div"),jt=m("div"),jt.textContent="Health",nt=M(),yt=m("div"),Ge=U(W),Cn=U(" / "),Xe=U(se),Sn=M(),Nt=m("div"),re=m("div"),re.textContent="Strength",Tn=M(),oe=m("div"),We=U(ce),In=M(),xt=m("div"),ue=m("div"),ue.textContent="Dexterity",jn=M(),fe=m("div"),Ve=U(ae),Nn=M(),Mt=m("div"),de=m("div"),de.textContent="Gold",xn=M(),pe=m("div"),ze=U(_e),An=M(),At=m("div"),me=m("div"),me.textContent="Steps",Rn=M(),he=m("div"),Je=U(ve),Ln=M(),Rt=m("div"),ge=m("div"),ge.textContent="Explored",On=M(),be=m("div"),be.textContent=`${Ut(vt.getExplored())}`,Pn=M(),Lt=m("div"),ke=m("div"),ke.textContent="Distance traveled",Un=M(),ye=m("div"),ye.textContent=`${Ut(vt.location().distance)}`,Dn=M(),Ot=m("div"),Kt=m("button"),Kt.textContent="Reset",Fn=M(),$e=m("button"),$e.textContent="Back",pt(l,"display","none"),g(c,"class","col label svelte-hfjk0k"),g(f,"class","col value svelte-hfjk0k"),g(o,"class","row svelte-hfjk0k"),g(k,"class","col label svelte-hfjk0k"),g(E,"class","col value svelte-hfjk0k"),g(h,"class","row svelte-hfjk0k"),g(C,"class","col label svelte-hfjk0k"),g(L,"class","col value svelte-hfjk0k"),g(w,"class","row svelte-hfjk0k"),g(jt,"class","col label svelte-hfjk0k"),g(yt,"class","col value svelte-hfjk0k"),g(ft,"class","row svelte-hfjk0k"),pt(ft,"margin-top","20px"),g(re,"class","col label svelte-hfjk0k"),g(oe,"class","col value svelte-hfjk0k"),g(Nt,"class","row svelte-hfjk0k"),g(ue,"class","col label svelte-hfjk0k"),g(fe,"class","col value svelte-hfjk0k"),g(xt,"class","row svelte-hfjk0k"),g(de,"class","col label svelte-hfjk0k"),g(pe,"class","col value svelte-hfjk0k"),g(Mt,"class","row svelte-hfjk0k"),pt(Mt,"margin","10px 0"),g(me,"class","col label svelte-hfjk0k"),g(he,"class","col value svelte-hfjk0k"),g(At,"class","row svelte-hfjk0k"),g(ge,"class","col label svelte-hfjk0k"),g(be,"class","col value svelte-hfjk0k"),g(Rt,"class","row svelte-hfjk0k"),g(ke,"class","col label svelte-hfjk0k"),g(ye,"class","col value svelte-hfjk0k"),g(Lt,"class","row svelte-hfjk0k"),g(n,"class","view col svelte-hfjk0k"),g(Kt,"class","danger svelte-hfjk0k"),g(Ot,"class","ctrls")},m(X,at){I(X,t,at),p(t,n),p(n,l),p(l,s),p(n,r),p(n,o),p(o,c),p(o,u),p(o,f),p(f,d),p(n,_),p(n,h),p(h,k),p(h,y),p(h,E),p(E,b),p(n,v),p(n,w),p(w,C),p(w,R),p(w,L),p(n,P),p(n,ft),p(ft,jt),p(ft,nt),p(ft,yt),p(yt,Ge),p(yt,Cn),p(yt,Xe),p(n,Sn),p(n,Nt),p(Nt,re),p(Nt,Tn),p(Nt,oe),p(oe,We),p(n,In),p(n,xt),p(xt,ue),p(xt,jn),p(xt,fe),p(fe,Ve),p(n,Nn),p(n,Mt),p(Mt,de),p(Mt,xn),p(Mt,pe),p(pe,ze),p(n,An),p(n,At),p(At,me),p(At,Rn),p(At,he),p(he,Je),p(n,Ln),p(n,Rt),p(Rt,ge),p(Rt,On),p(Rt,be),p(n,Pn),p(n,Lt),p(Lt,ke),p(Lt,Un),p(Lt,ye),p(t,Dn),p(t,Ot),p(Ot,Kt),p(Ot,Fn),p(Ot,$e),lt=!0,Qe||(qn=[x(window,"keydown",e[2]),x(Kt,"click",gn),x($e,"click",kt)],Qe=!0)},p(X,[at]){(!lt||at&1)&&i!==(i=X[0].name+"")&&st(s,i),(!lt||at&1)&&a!==(a=X[0].lvl+"")&&st(d,a),(!lt||at&1)&&$!==($=X[0].xp+"")&&st(b,$),(!lt||at&1)&&W!==(W=X[0].hp+"")&&st(Ge,W),(!lt||at&1)&&se!==(se=X[0].hpbase+"")&&st(Xe,se),(!lt||at&1)&&ce!==(ce=X[0].str+"")&&st(We,ce),(!lt||at&1)&&ae!==(ae=X[0].dex+"")&&st(Ve,ae),(!lt||at&1)&&_e!==(_e=Ut(X[0].gp)+"")&&st(ze,_e),(!lt||at&2)&&ve!==(ve=Ut(X[1])+"")&&st(Je,ve)},i(X){lt||(J(()=>{$t||($t=ot(t,ct,{},!0)),$t.run(1)}),lt=!0)},o(X){$t||($t=ot(t,ct,{},!1)),$t.run(0),lt=!1},d(X){X&&S(t),X&&$t&&$t.end(),Qe=!1,Z(qn)}}}function Qi(e,t,n){let l,i;Y(e,A,r=>n(0,l=r)),Y(e,te,r=>n(1,i=r));function s(r){switch(r.key){case"q":kt();break;case"Escape":gn();break}}return[l,i,s]}class Zi extends et{constructor(t){super(),tt(this,t,Qi,Ji,Q,{})}}function ts(e,{from:t,to:n},l={}){const i=getComputedStyle(e),s=i.transform==="none"?"":i.transform,[r,o]=i.transformOrigin.split(" ").map(parseFloat),c=t.left+t.width*r/n.width-(n.left+r),u=t.top+t.height*o/n.height-(n.top+o),{delay:f=0,duration:a=_=>Math.sqrt(_)*120,easing:d=Re}=l;return{delay:f,duration:Yt(a)?a(Math.sqrt(c*c+u*u)):a,easing:d,css:(_,h)=>{const k=h*c,y=h*u,E=_+h*t.width/n.width,$=_+h*t.height/n.height;return`transform: ${s} translate(${k}px, ${y}px) scale(${E}, ${$});`}}}const es={duration:4e3,initial:1,next:0,pausable:!1,dismissable:!0,reversed:!1,intro:{x:256}},ns=()=>{const{subscribe:e,update:t}=ut([]);let n=0;const l={},i=u=>u instanceof Object;return{subscribe:e,push:(u,f={})=>{const a={target:"default",...i(u)?u:{...f,msg:u}},d=l[a.target]||{},_={...es,...d,...a,theme:{...d.theme,...a.theme},classes:[...d.classes||[],...a.classes||[]],id:++n};return t(h=>_.reversed?[...h,_]:[_,...h]),n},pop:u=>{t(f=>{if(!f.length||u===0)return[];if(i(u))return f.filter(d=>u(d));const a=u||Math.max(...f.map(d=>d.id));return f.filter(d=>d.id!==a)})},set:(u,f={})=>{const a=i(u)?{...u}:{...f,id:u};t(d=>{const _=d.findIndex(h=>h.id===a.id);return _>-1&&(d[_]={...d[_],...a}),d})},_init:(u="default",f={})=>(l[u]=f,l)}},Ht=ns();function Vn(e){return Object.prototype.toString.call(e)==="[object Date]"}function un(e,t){if(e===t||e!==e)return()=>e;const n=typeof e;if(n!==typeof t||Array.isArray(e)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const l=t.map((i,s)=>un(e[s],i));return i=>l.map(s=>s(i))}if(n==="object"){if(!e||!t)throw new Error("Object cannot be null");if(Vn(e)&&Vn(t)){e=e.getTime(),t=t.getTime();const s=t-e;return r=>new Date(e+r*s)}const l=Object.keys(t),i={};return l.forEach(s=>{i[s]=un(e[s],t[s])}),s=>{const r={};return l.forEach(o=>{r[o]=i[o](s)}),r}}if(n==="number"){const l=t-e;return i=>e+i*l}throw new Error(`Cannot interpolate ${n} values`)}function fn(e,t={}){const n=ut(e);let l,i=e;function s(r,o){if(e==null)return n.set(e=r),Promise.resolve();i=r;let c=l,u=!1,{delay:f=0,duration:a=400,easing:d=Tt,interpolate:_=un}=en(en({},t),o);if(a===0)return c&&(c.abort(),c=null),n.set(e=i),Promise.resolve();const h=ee()+f;let k;return l=ne(y=>{if(y<h)return!0;u||(k=_(e,r),typeof a=="function"&&(a=a(e,r)),u=!0),c&&(c.abort(),c=null);const E=y-h;return E>a?(n.set(e=r),!1):(n.set(e=k(d(E/a))),!0)}),l.promise}return{set:s,update:(r,o)=>s(r(i,e),o),subscribe:n.subscribe}}function ls(e){let t,n=e[0].msg+"",l;return{c(){t=new Fl(!1),l=al(),t.a=l},m(i,s){t.m(n,i,s),I(i,l,s)},p(i,s){s&1&&n!==(n=i[0].msg+"")&&t.p(n)},i:j,o:j,d(i){i&&S(l),i&&t.d()}}}function is(e){let t,n,l;const i=[e[2]];var s=e[0].component.src;function r(o){let c={};for(let u=0;u<i.length;u+=1)c=en(c,i[u]);return{props:c}}return s&&(t=Bn(s,r())),{c(){t&&G(t.$$.fragment),n=al()},m(o,c){t&&q(t,o,c),I(o,n,c),l=!0},p(o,c){const u=c&4?Ql(i,[Zl(o[2])]):{};if(s!==(s=o[0].component.src)){if(t){mt();const f=t;N(f.$$.fragment,1,0,()=>{H(f,1)}),ht()}s?(t=Bn(s,r()),G(t.$$.fragment),T(t.$$.fragment,1),q(t,n.parentNode,n)):t=null}else s&&t.$set(u)},i(o){l||(t&&T(t.$$.fragment,o),l=!0)},o(o){t&&N(t.$$.fragment,o),l=!1},d(o){o&&S(n),t&&H(t,o)}}}function zn(e){let t,n,l;return{c(){t=m("div"),g(t,"class","_toastBtn pe svelte-l65oht"),g(t,"role","button"),g(t,"tabindex","0")},m(i,s){I(i,t,s),n||(l=[x(t,"click",e[4]),x(t,"keydown",e[8])],n=!0)},p:j,d(i){i&&S(t),n=!1,Z(l)}}}function ss(e){let t,n,l,i,s,r,o,c,u,f;const a=[is,ls],d=[];function _(k,y){return k[0].component?0:1}l=_(e),i=d[l]=a[l](e);let h=e[0].dismissable&&zn(e);return{c(){t=m("div"),n=m("div"),i.c(),s=M(),h&&h.c(),r=M(),o=m("progress"),g(n,"role","status"),g(n,"class","_toastMsg svelte-l65oht"),rt(n,"pe",e[0].component),g(o,"class","_toastBar svelte-l65oht"),o.value=e[1],g(t,"class","_toastItem svelte-l65oht"),rt(t,"pe",e[0].pausable)},m(k,y){I(k,t,y),p(t,n),d[l].m(n,null),p(t,s),h&&h.m(t,null),p(t,r),p(t,o),c=!0,u||(f=[x(t,"mouseenter",e[9]),x(t,"mouseleave",e[6])],u=!0)},p(k,[y]){let E=l;l=_(k),l===E?d[l].p(k,y):(mt(),N(d[E],1,1,()=>{d[E]=null}),ht(),i=d[l],i?i.p(k,y):(i=d[l]=a[l](k),i.c()),T(i,1),i.m(n,null)),(!c||y&1)&&rt(n,"pe",k[0].component),k[0].dismissable?h?h.p(k,y):(h=zn(k),h.c(),h.m(t,r)):h&&(h.d(1),h=null),(!c||y&2)&&(o.value=k[1]),(!c||y&1)&&rt(t,"pe",k[0].pausable)},i(k){c||(T(i),c=!0)},o(k){N(i),c=!1},d(k){k&&S(t),d[l].d(),h&&h.d(),u=!1,Z(f)}}}function rs(e,t,n){let l,{item:i}=t;const s=fn(i.initial,{duration:i.duration,easing:Tt});Y(e,s,b=>n(1,l=b));const r=()=>Ht.pop(i.id),o=()=>{(l===1||l===0)&&r()};let c=i.initial,u=c,f=!1;const a=()=>{!f&&l!==c&&(s.set(l,{duration:0}),f=!0)},d=()=>{if(f){const b=i.duration,v=b-b*((l-u)/(c-u));s.set(c,{duration:v}).then(o),f=!1}};let _={};const h=(b,v="undefined")=>typeof b===v;let k;Et((b=document)=>{if(h(b.hidden))return;const v=()=>b.hidden?a():d(),w="visibilitychange";b.addEventListener(w,v),k=()=>b.removeEventListener(w,v),v()}),_l(()=>{h(i.onpop,"function")&&i.onpop(i.id),k&&k()});const E=b=>{b instanceof KeyboardEvent&&["Enter"," "].includes(b.key)&&r()},$=()=>{i.pausable&&a()};return e.$$set=b=>{"item"in b&&n(0,i=b.item)},e.$$.update=()=>{if(e.$$.dirty&1&&(h(i.progress)||n(0,i.next=i.progress,i)),e.$$.dirty&131&&c!==i.next&&(n(7,c=i.next),u=l,f=!1,s.set(c).then(o)),e.$$.dirty&1&&i.component){const{props:b={},sendIdTo:v}=i.component;n(2,_={...b,...v&&{[v]:i.id}})}},[i,l,_,s,r,a,d,c,E,$]}class os extends et{constructor(t){super(),tt(this,t,rs,ss,Q,{item:0})}}function Jn(e,t,n){const l=e.slice();return l[5]=t[n],l}function Qn(e,t){let n,l,i,s,r,o,c,u,f=j,a;return l=new os({props:{item:t[5]}}),{key:e,first:null,c(){n=m("li"),G(l.$$.fragment),i=M(),g(n,"class",s=je(t[5].classes.join(" "))+" svelte-yh90az"),g(n,"style",r=t[1](t[5].theme)),this.first=n},m(d,_){I(d,n,_),q(l,n,null),p(n,i),a=!0},p(d,_){t=d;const h={};_&1&&(h.item=t[5]),l.$set(h),(!a||_&1&&s!==(s=je(t[5].classes.join(" "))+" svelte-yh90az"))&&g(n,"class",s),(!a||_&1&&r!==(r=t[1](t[5].theme)))&&g(n,"style",r)},r(){u=n.getBoundingClientRect()},f(){Kl(n),f(),pl(n,u)},a(){f(),f=Yl(n,u,ts,{duration:200})},i(d){a||(T(l.$$.fragment,d),J(()=>{c&&c.end(1),o=hn(n,Fe,t[5].intro),o.start()}),a=!0)},o(d){N(l.$$.fragment,d),o&&o.invalidate(),c=le(n,De,{}),a=!1},d(d){d&&S(n),H(l),d&&c&&c.end()}}}function cs(e){let t,n=[],l=new Map,i,s=e[0];const r=o=>o[5].id;for(let o=0;o<s.length;o+=1){let c=Jn(e,s,o),u=r(c);l.set(u,n[o]=Qn(u,c))}return{c(){t=m("ul");for(let o=0;o<n.length;o+=1)n[o].c();g(t,"class","_toastContainer svelte-yh90az")},m(o,c){I(o,t,c);for(let u=0;u<n.length;u+=1)n[u].m(t,null);i=!0},p(o,[c]){if(c&3){s=o[0],mt();for(let u=0;u<n.length;u+=1)n[u].r();n=Jl(n,c,r,1,o,s,l,t,zl,Qn,null,Jn);for(let u=0;u<n.length;u+=1)n[u].a();ht()}},i(o){if(!i){for(let c=0;c<s.length;c+=1)T(n[c]);i=!0}},o(o){for(let c=0;c<n.length;c+=1)N(n[c]);i=!1},d(o){o&&S(t);for(let c=0;c<n.length;c+=1)n[c].d()}}}function us(e,t,n){let l;Y(e,Ht,c=>n(4,l=c));let{options:i={}}=t,{target:s="default"}=t,r;const o=c=>Object.keys(c).reduce((u,f)=>`${u}${f}:${c[f]};`,"");return e.$$set=c=>{"options"in c&&n(2,i=c.options),"target"in c&&n(3,s=c.target)},e.$$.update=()=>{e.$$.dirty&12&&Ht._init(s,i),e.$$.dirty&24&&n(0,r=l.filter(c=>c.target===s))},[r,o,i,s,l]}class fs extends et{constructor(t){super(),tt(this,t,us,cs,Q,{options:2,target:3})}}function as(e){let t,n,l,i;return n=new fs({props:{options:e[2],target:e[1]}}),{c(){t=m("div"),G(n.$$.fragment),g(t,"class",l=je(`toast-wrapper-${e[0]}`)+" svelte-gbm9c2")},m(s,r){I(s,t,r),q(n,t,null),i=!0},p(s,[r]){const o={};r&4&&(o.options=s[2]),r&2&&(o.target=s[1]),n.$set(o),(!i||r&1&&l!==(l=je(`toast-wrapper-${s[0]}`)+" svelte-gbm9c2"))&&g(t,"class",l)},i(s){i||(T(n.$$.fragment,s),i=!0)},o(s){N(n.$$.fragment,s),i=!1},d(s){s&&S(t),H(n)}}}function ds(e,t,n){const l={duration:1e3,initial:1,next:0,pausable:!0,dismissable:!1,reversed:!1,intro:{x:0},theme:{},classes:[]},i={duration:500,initial:1,next:0,pausable:!1,dismissable:!1,reversed:!0,intro:{y:20,duration:100},theme:{},classes:[]};let s;Et(()=>{r==1?n(2,s=l):r==2&&n(2,s=i)});let{type:r=1}=t,{target:o=void 0}=t;return e.$$set=c=>{"type"in c&&n(0,r=c.type),"target"in c&&n(1,o=c.target)},[r,o,s]}class an extends et{constructor(t){super(),tt(this,t,ds,as,Q,{type:0,target:1})}}function ps(e,t=void 0){let n=t?{target:t}:void 0;Ht.push(e,n)}function _s(e,t=void 0){let n={initial:0,next:0};t&&(n.target=t),Ht.push(e,n)}function ms(){Ht.pop(0)}const gt={show:ps,persist:_s,clear:ms};function hs(e,t){let n=e.dex/Math.max(e.dex+t.dex,1);if(t.evading()&&(n=n/2),n=Math.ceil(n*100),F(100)*ri<n)return bt(e.str)}function jl(e,t,n,l){let i=D(e),s=D(t),r=hs(i,s);if(r)s.hp-=r,s.evading()&&(s.status.evading=!1),t.set(s);else if(r===void 0&&s.evading()){let o=bt(Math.max(Math.floor(s.str/2),1));i.hp-=o,e.set(i),gt.show(tl(o),n)}return gt.show(tl(r),l),r}function En(){let e=jl(K,A,Ft,vn);return e?Pe.set(0):e===void 0&&(Ae(Pe),D(A).evading()&&Ae(Oe)),e}function vs(){let e=D(A);e.evading()&&(e.status.evading=!1,A.set(e)),jl(A,K,vn,Ft)&&(Ae(Le),D(K).ko()&&Ae(wl))}function gs(){let e=D(A);e.status.evading=!0,A.set(e)}function bs(){let e=D(A);e.status.fleeing=!0;var t=F(Math.floor(e.gp/2));e.gp-=t,t&&gt.show(`Dropped ${t} gold`),A.set(e)}function ks(e,t){return Math.ceil(t/Math.max(e,1)*1e3*kl)}function Zn(){return si*kl}function ys(){let e=D(A),t=D(K),n=t.xp,l=bn();t.fleeing()&&(n*=1-t.hp/t.hpbase,n=Math.floor(Math.min(n,l-e.xp-1))),n=Math.ceil(n*t.lvl/e.lvl),n&&(e.xp+=n,gt.persist(`Gained ${n} experience`,Ft)),t.gp&&!t.fleeing()&&(e.gp+=t.gp,gt.persist(`Found ${t.gp} gold`,Ft)),A.set(e),e.xp>=l&&(Mi(),gt.persist("Level up!",Ft))}const tl=e=>e===void 0?"Miss":`${e}`;function $s(e){let t="enc",n=ie(Ue*e),l=n.hp+vl*3,i=n.str+gl*2,s=Math.ceil(n.dex/2),r=F(bl*5),o=Math.ceil(bt(l+i+s)/2);K.set(new qe(t,e,l,i,s,o,r)),Bt.set(ws),Ke.set("dragon")}function ws(){En()}function Es(){if(F(1)==1)return;let e=D(K);F(1)==1?(e.status.fleeing=!0,K.set(e)):En()}function Nl(e){let t="enc",n=ie(Ue/2*e),l=n.hp+1,i=n.str+1,s=n.dex+1,r=0,o=Math.ceil(bt(l+i+s)/2);K.set(new qe(t,e,l,i,s,o,r)),Bt.set(void 0),Ke.set("rat")}function Ms(){let e=F(100),t=vt.location(),n=bt(t.distance,.1)/bt(50,.25);n=Math.ceil(Math.max(n,1));let l=Is.filter(i=>e<i.freq&&n>=i.minLvl&&n<=i.maxLvl&&i.at(t.terrain,t.nearby));l.length?l[F(l.length-1)].init(n):Nl(n),console.log(JSON.stringify(D(K))),D(Bt)||Bt.set(xl),Pe.set(0)}const Ke=ut(),Bt=ut(),Pe=ut(0),K=ut();function Mn(e,t,n){let l="enc",i=ie(Ue*e),s=i.hp+vl,r=i.str+gl,o=i.dex+ii,c=F(bl),u=Math.ceil(bt(s+r+o)/2);K.set(new qe(l,e,s,r,o,u,c)),Bt.set(n??xl),Ke.set(t[F(t.length-1)])}function xl(){let e=D(K);D(Pe)>3&&F(1)==1?(e.status.fleeing=!0,K.set(e)):En()}let Wt=class{constructor(t,n,l,i,s,r){Gt(this,"at",(t,n)=>this.terrains.includes(t)||this.near.filter(l=>n.includes(l)).length);this.init=t,this.freq=n,this.minLvl=l,this.maxLvl=i,this.terrains=s,this.near=r??[]}},Cs=e=>Mn(e,["wolf","boar"]),Ss=e=>Mn(e,["fencer"]),Ts=e=>Mn(e,["ghost"],Es);const Is=[new Wt(Nl,100,1,1,[dt.PLAIN]),new Wt(Cs,100,1,100,[dt.PLAIN,dt.FOREST]),new Wt(Ss,100,1,100,[],[dt.CITY]),new Wt(Ts,50,2,100,[dt.FOREST]),new Wt($s,20,3,100,[dt.PLAIN,dt.FOREST])];function js(e){let t;return{c(){t=m("div")},m(n,l){I(n,t,l)},p:j,i:j,o:j,d(n){n&&S(t)}}}function Ns(e){let t,n,l,i;return{c(){t=m("div"),g(t,"class","icon map-u svelte-btrsmh"),rt(t,"rejoice",e[1].ko())},m(s,r){I(s,t,r),i=!0},p(s,r){e=s,(!i||r&2)&&rt(t,"rejoice",e[1].ko())},i(s){i||(J(()=>{l&&l.end(1),n=hn(t,Fe,e[3]),n.start()}),i=!0)},o(s){n&&n.invalidate(),l=le(t,e[5],{}),i=!1},d(s){s&&S(t),s&&l&&l.end()}}}function el(e){let t,n,l,i,s,r;return{c(){t=m("div"),n=m("div"),g(n,"class",l="icon "+e[2]+" svelte-btrsmh"),rt(n,"rejoice",e[0].ko()),g(t,"class","col enc img svelte-btrsmh")},m(o,c){I(o,t,c),p(t,n),r=!0},p(o,c){e=o,(!r||c&4&&l!==(l="icon "+e[2]+" svelte-btrsmh"))&&g(n,"class",l),(!r||c&5)&&rt(n,"rejoice",e[0].ko())},i(o){r||(J(()=>{s&&s.end(1),i=hn(n,Fe,e[4]),i.start()}),r=!0)},o(o){i&&i.invalidate(),s=le(n,e[6],{}),r=!1},d(o){o&&S(t),o&&s&&s.end()}}}function xs(e){let t,n,l,i,s,r,o,c,u,f,a,d,_,h,k=!e[1].ko()&&!e[1].fleeing(),y;const E=[Ns,js],$=[];function b(w,C){return C&1&&(i=null),i==null&&(i=!w[0].ko()&&!w[0].fleeing()),i?0:1}s=b(e,-1),r=$[s]=E[s](e),u=new an({props:{target:vn,type:2}}),_=new an({props:{target:Ft,type:2}});let v=k&&el(e);return{c(){t=m("div"),n=m("div"),l=m("div"),r.c(),o=M(),c=m("div"),G(u.$$.fragment),f=M(),a=m("div"),d=m("div"),G(_.$$.fragment),h=M(),v&&v.c(),g(l,"class","col user img svelte-btrsmh"),g(c,"class","col toast"),g(n,"class","row"),g(d,"class","col toast"),g(a,"class","row"),g(t,"class","row imgs svelte-btrsmh")},m(w,C){I(w,t,C),p(t,n),p(n,l),$[s].m(l,null),p(n,o),p(n,c),q(u,c,null),p(t,f),p(t,a),p(a,d),q(_,d,null),p(a,h),v&&v.m(a,null),y=!0},p(w,[C]){let R=s;s=b(w,C),s===R?$[s].p(w,C):(mt(),N($[R],1,1,()=>{$[R]=null}),ht(),r=$[s],r?r.p(w,C):(r=$[s]=E[s](w),r.c()),T(r,1),r.m(l,null)),C&2&&(k=!w[1].ko()&&!w[1].fleeing()),k?v?(v.p(w,C),C&2&&T(v,1)):(v=el(w),v.c(),T(v,1),v.m(a,null)):v&&(mt(),N(v,1,1,()=>{v=null}),ht())},i(w){y||(T(r),T(u.$$.fragment,w),T(_.$$.fragment,w),T(v),y=!0)},o(w){N(r),N(u.$$.fragment,w),N(_.$$.fragment,w),N(v),y=!1},d(w){w&&S(t),$[s].d(),H(u),H(_),v&&v.d()}}}function As(e,t,n){let l,i,s;Y(e,A,d=>n(0,l=d)),Y(e,K,d=>n(1,i=d)),Y(e,Ke,d=>n(2,s=d));const r={x:40,duration:sn},o={x:-40,duration:sn},c={amount:40,duration:rn};function u(d,_,h,k,y){if(!y){if(h)return mi(d,c);{let E=k;return _||(E.x*=-1),Fe(d,E)}}}function f(d){return u(d,i.ko(),l.ko(),r)}function a(d){return u(d,l.ko(),i.ko(),o,l.ko()||l.fleeing())}return[l,i,s,r,o,f,a]}class Rs extends et{constructor(t){super(),tt(this,t,As,xs,Q,{})}}function Ls(e){let t;return{c(){t=m("div")},m(n,l){I(n,t,l)},p:j,i:j,o:j,d(n){n&&S(t)}}}function Os(e){let t,n,l,i,s,r=e[1].lvl+"",o,c;return{c(){t=m("progress"),l=M(),i=m("span"),s=U("Level "),o=U(r),t.value=e[2],g(t,"class","svelte-1ly7opp"),g(i,"class","lvl svelte-1ly7opp")},m(u,f){I(u,t,f),I(u,l,f),I(u,i,f),p(i,s),p(i,o),c=!0},p(u,f){(!c||f&4)&&(t.value=u[2]),(!c||f&2)&&r!==(r=u[1].lvl+"")&&st(o,r)},i(u){c||(n&&n.end(1),c=!0)},o(u){n=le(t,De,{duration:100}),c=!1},d(u){u&&S(t),u&&n&&n.end(),u&&S(l),u&&S(i)}}}function Ps(e){let t;return{c(){t=m("div")},m(n,l){I(n,t,l)},p:j,i:j,o:j,d(n){n&&S(t)}}}function Us(e){let t,n,l,i,s,r=e[0].lvl+"",o,c;return{c(){t=m("progress"),l=M(),i=m("span"),s=U("Level "),o=U(r),t.value=e[3],g(t,"class","svelte-1ly7opp"),g(i,"class","lvl svelte-1ly7opp")},m(u,f){I(u,t,f),I(u,l,f),I(u,i,f),p(i,s),p(i,o),c=!0},p(u,f){(!c||f&8)&&(t.value=u[3]),(!c||f&1)&&r!==(r=u[0].lvl+"")&&st(o,r)},i(u){c||(n&&n.end(1),c=!0)},o(u){n=le(t,De,{duration:100}),c=!1},d(u){u&&S(t),u&&n&&n.end(),u&&S(l),u&&S(i)}}}function Ds(e){let t,n,l,i,s,r,o,c,u,f,a;const d=[Os,Ls],_=[];function h($,b){return b&2&&(l=null),l==null&&(l=!$[1].ko()&&!$[1].fleeing()),l?0:1}i=h(e,-1),s=_[i]=d[i](e);const k=[Us,Ps],y=[];function E($,b){return b&1&&(c=null),c==null&&(c=!$[0].ko()&&!$[0].fleeing()),c?0:1}return u=E(e,-1),f=y[u]=k[u](e),{c(){t=m("div"),n=m("div"),s.c(),r=M(),o=m("div"),f.c(),g(n,"class","col user"),g(o,"class","col enc"),g(t,"class","row info svelte-1ly7opp")},m($,b){I($,t,b),p(t,n),_[i].m(n,null),p(t,r),p(t,o),y[u].m(o,null),a=!0},p($,[b]){let v=i;i=h($,b),i===v?_[i].p($,b):(mt(),N(_[v],1,1,()=>{_[v]=null}),ht(),s=_[i],s?s.p($,b):(s=_[i]=d[i]($),s.c()),T(s,1),s.m(n,null));let w=u;u=E($,b),u===w?y[u].p($,b):(mt(),N(y[w],1,1,()=>{y[w]=null}),ht(),f=y[u],f?f.p($,b):(f=y[u]=k[u]($),f.c()),T(f,1),f.m(o,null))},i($){a||(T(s),T(f),a=!0)},o($){N(s),N(f),a=!1},d($){$&&S(t),_[i].d(),y[u].d()}}}function Fs(e,t,n){let l,i,s,r;Y(e,K,u=>n(0,l=u)),Y(e,A,u=>n(1,i=u));const o=fn(0,{duration:Gn,easing:Re});Y(e,o,u=>n(2,s=u));const c=fn(0,{duration:Gn,easing:Re});return Y(e,c,u=>n(3,r=u)),e.$$.update=()=>{e.$$.dirty&2&&i.hp&&o.set(i.hp/i.hpbase),e.$$.dirty&1&&l.hp&&c.set(l.hp/l.hpbase)},[l,i,s,r,o,c]}class qs extends et{constructor(t){super(),tt(this,t,Fs,Ds,Q,{})}}function Hs(e){let t,n,l,i,s,r;return{c(){t=m("div"),n=m("div"),l=m("div"),i=M(),s=m("div"),r=m("div"),g(l,"class","circle svelte-1uajhnl"),pt(l,"transform",`rotate(${Math.min(e[1],180)}deg)`),g(n,"class","wrapper wrapper1 svelte-1uajhnl"),g(r,"class","circle svelte-1uajhnl"),rt(r,"hidden",e[0]<=50),pt(r,"transform",`rotate(${e[1]}deg)`),g(s,"class","wrapper wrapper2 svelte-1uajhnl"),g(t,"class","progress-bar svelte-1uajhnl"),rt(t,"hidden",e[0]>=100)},m(o,c){I(o,t,c),p(t,n),p(n,l),p(t,i),p(t,s),p(s,r)},p(o,[c]){c&2&&pt(l,"transform",`rotate(${Math.min(o[1],180)}deg)`),c&1&&rt(r,"hidden",o[0]<=50),c&2&&pt(r,"transform",`rotate(${o[1]}deg)`),c&1&&rt(t,"hidden",o[0]>=100)},i:j,o:j,d(o){o&&S(t)}}}const nl=100;function Bs(e,t,n){let l;const i=ml();function s(){n(5,u+=nl),f>=100&&(clearInterval(a),i("ready"))}function r(d){a&&clearInterval(a),n(4,c=d),n(5,u=0),a=setInterval(s,nl)}function o(){n(5,u=c)}let c=1e3,u,f,a;return e.$$.update=()=>{e.$$.dirty&48&&n(0,f=u/c*100),e.$$.dirty&1&&n(1,l=f*3.6)},[f,l,r,o,c,u]}class Ys extends et{constructor(t){super(),tt(this,t,Bs,Hs,Q,{start:2,cancel:3})}get start(){return this.$$.ctx[2]}get cancel(){return this.$$.ctx[3]}}function ll(e){let t,n,l,i;return t=new Rs({}),l=new qs({}),{c(){G(t.$$.fragment),n=M(),G(l.$$.fragment)},m(s,r){q(t,s,r),I(s,n,r),q(l,s,r),i=!0},i(s){i||(T(t.$$.fragment,s),T(l.$$.fragment,s),i=!0)},o(s){N(t.$$.fragment,s),N(l.$$.fragment,s),i=!1},d(s){H(t,s),s&&S(n),H(l,s)}}}function il(e){let t,n,l,i,s,r,o,c,u,f,a,d,_,h,k,y={};a=new Ys({props:y}),e[17](a),a.$on("ready",e[11]);function E(v,w){if(v[9])return Xs;if(v[1]&&v[5])return Gs;if(v[2]&&v[5])return Ks}let $=E(e),b=$&&$(e);return{c(){t=m("div"),n=m("div"),l=m("button"),i=U("Strike"),r=M(),o=m("button"),c=U("Counter"),f=M(),G(a.$$.fragment),d=M(),b&&b.c(),l.disabled=s=!e[0],o.disabled=u=!e[8],g(t,"class","ctrls col")},m(v,w){I(v,t,w),p(t,n),p(n,l),p(l,i),p(n,r),p(n,o),p(o,c),p(n,f),q(a,n,null),p(t,d),b&&b.m(t,null),_=!0,h||(k=[x(l,"click",e[12]),x(o,"click",e[13])],h=!0)},p(v,w){(!_||w&1&&s!==(s=!v[0]))&&(l.disabled=s),(!_||w&256&&u!==(u=!v[8]))&&(o.disabled=u);const C={};a.$set(C),$===($=E(v))&&b?b.p(v,w):(b&&b.d(1),b=$&&$(v),b&&(b.c(),b.m(t,null)))},i(v){_||(T(a.$$.fragment,v),_=!0)},o(v){N(a.$$.fragment,v),_=!1},d(v){v&&S(t),e[17](null),H(a),b&&b.d(),h=!1,Z(k)}}}function Ks(e){let t,n,l;return{c(){t=m("button"),t.textContent="Reset"},m(i,s){I(i,t,s),n||(l=x(t,"click",e[16]),n=!0)},p:j,d(i){i&&S(t),n=!1,l()}}}function Gs(e){let t,n,l;return{c(){t=m("button"),t.textContent="Proceed"},m(i,s){I(i,t,s),n||(l=x(t,"click",e[15]),n=!0)},p:j,d(i){i&&S(t),n=!1,l()}}}function Xs(e){let t,n,l;return{c(){t=m("button"),t.textContent="Flee"},m(i,s){I(i,t,s),n||(l=x(t,"click",e[14]),n=!0)},p:j,d(i){i&&S(t),n=!1,l()}}}function Ws(e){let t,n,l,i=!e[3].fleeing(),s,r,o,c,u=e[4]&&!e[6]&&ll(),f=i&&il(e);return{c(){t=m("div"),n=m("div"),u&&u.c(),l=M(),f&&f.c(),g(n,"class","view field svelte-1tqkonl")},m(a,d){I(a,t,d),p(t,n),u&&u.m(n,null),p(t,l),f&&f.m(t,null),r=!0,o||(c=x(window,"keydown",e[10]),o=!0)},p(a,[d]){a[4]&&!a[6]?u?d&80&&T(u,1):(u=ll(),u.c(),T(u,1),u.m(n,null)):u&&(mt(),N(u,1,1,()=>{u=null}),ht()),d&8&&(i=!a[3].fleeing()),i?f?(f.p(a,d),d&8&&T(f,1)):(f=il(a),f.c(),T(f,1),f.m(t,null)):f&&(mt(),N(f,1,1,()=>{f=null}),ht())},i(a){r||(T(u),T(f),J(()=>{s||(s=ot(t,ct,{},!0)),s.run(1)}),r=!0)},o(a){N(u),N(f),s||(s=ot(t,ct,{},!1)),s.run(0),r=!1},d(a){a&&S(t),u&&u.d(),f&&f.d(),a&&s&&s.end(),o=!1,c()}}}function Vs(e,t,n){let l,i,s,r;Y(e,A,nt=>n(3,s=nt)),Y(e,K,nt=>n(4,r=nt));function o(nt){switch(nt.key){case"f":f();break;case"v":a();break;case"q":l?d():R&&w?y():L&&w&&E();break}}function c(){l&&(b=bt(Zn()),P.start(b))}function u(){l&&n(0,v=!0)}function f(){v&&(n(0,v=!1),vs(),setTimeout(c,1))}function a(){v&&(n(0,v=!1),gs(),setTimeout(c,1))}function d(){P.cancel(),bs(),wt(1e3,kt)}function _(){l&&(D(Bt)(),ft=wt(bt($),_))}function h(){n(1,R=!0),P.cancel(),n(0,v=!1),wt(rn,()=>{ys(),n(5,w=!0)})}function k(){n(2,L=!0),P.cancel(),n(0,v=!1),wt(rn,()=>{gt.persist("Game over"),n(5,w=!0)})}function y(){n(6,C=!0),wt(sn,kt)}function E(){gn()}Et(()=>{Ms(),$=ks(r.dex,s.dex),b=Zn();const nt=A.subscribe(W=>{W!=null&&W.ko()&&k()}),yt=K.subscribe(W=>{(W!=null&&W.ko()||W!=null&&W.fleeing())&&h()});return ft=wt(F($),_),P.start(b),()=>{P==null||P.cancel(),clearTimeout(ft),yt(),nt(),Ct(A,s.status.fleeing=!1,s),Ct(A,s.status.evading=!1,s),Ct(K,r=null,r)}});let $,b,v,w,C,R,L,P,ft;function jt(nt){nn[nt?"unshift":"push"](()=>{P=nt,n(7,P)})}return e.$$.update=()=>{e.$$.dirty&30&&n(9,l=!R&&!L&&!s.fleeing()&&!(r!=null&&r.fleeing())),e.$$.dirty&9&&n(8,i=v&&!s.evading())},[v,R,L,s,r,w,C,P,i,l,o,u,f,a,d,y,E,jt]}class zs extends et{constructor(t){super(),tt(this,t,Vs,Ws,Q,{})}}function sl(e){let t,n,l,i=e[0].innCost+"",s,r;return{c(){t=m("p"),t.textContent="Inn",n=M(),l=m("p"),s=U(i),r=U(" gold per night")},m(o,c){I(o,t,c),I(o,n,c),I(o,l,c),p(l,s),p(l,r)},p(o,c){c&1&&i!==(i=o[0].innCost+"")&&st(s,i)},d(o){o&&S(t),o&&S(n),o&&S(l)}}}function Js(e){let t,n,l,i,s,r,o,c,u,f,a,d=e[0]&&sl(e);return{c(){t=m("div"),n=m("div"),d&&d.c(),l=M(),i=m("div"),s=m("button"),s.textContent="Rest",r=M(),o=m("button"),o.textContent="Leave",g(n,"class","view col"),g(i,"class","ctrls")},m(_,h){I(_,t,h),p(t,n),d&&d.m(n,null),p(t,l),p(t,i),p(i,s),p(i,r),p(i,o),u=!0,f||(a=[x(window,"keydown",e[1]),x(s,"click",e[2]),x(o,"click",kt)],f=!0)},p(_,[h]){_[0]?d?d.p(_,h):(d=sl(_),d.c(),d.m(n,null)):d&&(d.d(1),d=null)},i(_){u||(J(()=>{c||(c=ot(t,ct,{},!0)),c.run(1)}),u=!0)},o(_){c||(c=ot(t,ct,{},!1)),c.run(0),u=!1},d(_){_&&S(t),d&&d.d(),_&&c&&c.end(),f=!1,Z(a)}}}function Qs(e,t,n){let l;Y(e,A,o=>n(3,l=o));function i(o){switch(o.key){case"q":kt();break;case"r":s();break}}function s(){l.gp>=r.innCost?(Ct(A,l.gp-=r.innCost,l),gi()):gt.show("Not enough gold")}Et(()=>{let o=vt.location().abs;n(0,r=Gi(o.x,o.y))});let r;return[r,i,s]}class Zs extends et{constructor(t){super(),tt(this,t,Qs,Js,Q,{})}}function tr(e){let t,n,l,i,s;return{c(){t=m("div"),n=m("div"),l=m("div"),g(l,"class","icon moon"),pt(l,"margin-top","80px"),g(n,"class","view")},m(r,o){I(r,t,o),p(t,n),p(n,l),s=!0},p:j,i(r){s||(J(()=>{i||(i=ot(t,ct,{},!0)),i.run(1)}),s=!0)},o(r){i||(i=ot(t,ct,{},!1)),i.run(0),s=!1},d(r){r&&S(t),r&&i&&i.end()}}}function er(e,t,n){let l;return Y(e,A,i=>n(0,l=i)),Et(()=>{Ct(A,l.hp=l.hpbase,l),wt(2e3,kt)}),[]}class nr extends et{constructor(t){super(),tt(this,t,er,tr,Q,{})}}function lr(e){let t,n;return t=new nr({}),{c(){G(t.$$.fragment)},m(l,i){q(t,l,i),n=!0},i(l){n||(T(t.$$.fragment,l),n=!0)},o(l){N(t.$$.fragment,l),n=!1},d(l){H(t,l)}}}function ir(e){let t,n;return t=new Zs({}),{c(){G(t.$$.fragment)},m(l,i){q(t,l,i),n=!0},i(l){n||(T(t.$$.fragment,l),n=!0)},o(l){N(t.$$.fragment,l),n=!1},d(l){H(t,l)}}}function sr(e){let t,n;return t=new zs({}),{c(){G(t.$$.fragment)},m(l,i){q(t,l,i),n=!0},i(l){n||(T(t.$$.fragment,l),n=!0)},o(l){N(t.$$.fragment,l),n=!1},d(l){H(t,l)}}}function rr(e){let t,n;return t=new Zi({}),{c(){G(t.$$.fragment)},m(l,i){q(t,l,i),n=!0},i(l){n||(T(t.$$.fragment,l),n=!0)},o(l){N(t.$$.fragment,l),n=!1},d(l){H(t,l)}}}function or(e){let t,n;return t=new zi({}),{c(){G(t.$$.fragment)},m(l,i){q(t,l,i),n=!0},i(l){n||(T(t.$$.fragment,l),n=!0)},o(l){N(t.$$.fragment,l),n=!1},d(l){H(t,l)}}}function cr(e){let t,n;return t=new Fi({}),{c(){G(t.$$.fragment)},m(l,i){q(t,l,i),n=!0},i(l){n||(T(t.$$.fragment,l),n=!0)},o(l){N(t.$$.fragment,l),n=!1},d(l){H(t,l)}}}function ur(e){let t,n,l,i,s,r;n=new an({});const o=[cr,or,rr,sr,ir,lr],c=[];function u(f,a){return f[0]==it.TITLE?0:f[0]==it.MAP?1:f[0]==it.MENU?2:f[0]==it.ENC?3:f[0]==it.CITY?4:f[0]==it.SLEEP?5:-1}return~(i=u(e))&&(s=c[i]=o[i](e)),{c(){t=m("main"),G(n.$$.fragment),l=M(),s&&s.c()},m(f,a){I(f,t,a),q(n,t,null),p(t,l),~i&&c[i].m(t,null),r=!0},p(f,[a]){let d=i;i=u(f),i!==d&&(s&&(mt(),N(c[d],1,1,()=>{c[d]=null}),ht()),~i?(s=c[i],s||(s=c[i]=o[i](f),s.c()),T(s,1),s.m(t,null)):s=null)},i(f){r||(T(n.$$.fragment,f),T(s),r=!0)},o(f){N(n.$$.fragment,f),N(s),r=!1},d(f){f&&S(t),H(n),~i&&c[i].d()}}}function fr(e,t,n){let l;Et(()=>{l=It.subscribe(s=>{n(0,i=void 0),gt.clear(),wt(yl,()=>{n(0,i=s)})})}),_l(l);let i;return[i]}class ar extends et{constructor(t){super(),tt(this,t,fr,ur,Q,{})}}new ar({target:document.getElementById("app")});
