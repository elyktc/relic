(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerpolicy&&(l.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?l.credentials="include":o.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function w(){}function vt(t){return t()}function ct(){return Object.create(null)}function I(t){t.forEach(vt)}function J(t){return typeof t=="function"}function Z(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Lt(t){return Object.keys(t).length===0}function At(t){return t&&J(t.destroy)?t.destroy:w}function a(t,e){t.appendChild(e)}function R(t,e,n){t.insertBefore(e,n||null)}function A(t){t.parentNode&&t.parentNode.removeChild(t)}function m(t){return document.createElement(t)}function _t(t){return document.createTextNode(t)}function y(){return _t(" ")}function M(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function v(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Ot(t){return Array.from(t.childNodes)}function It(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function F(t,e,n,r){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function Wt(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,r,e),o}let O;function L(t){O=t}function jt(){if(!O)throw new Error("Function called outside component initialization");return O}function $t(){const t=jt();return(e,n,{cancelable:r=!1}={})=>{const o=t.$$.callbacks[e];if(o){const l=Wt(e,n,{cancelable:r});return o.slice().forEach(i=>{i.call(t,l)}),!l.defaultPrevented}return!0}}const S=[],at=[],j=[],ft=[],Pt=Promise.resolve();let U=!1;function Rt(){U||(U=!0,Pt.then(yt))}function X(t){j.push(t)}const K=new Set;let W=0;function yt(){const t=O;do{for(;W<S.length;){const e=S[W];W++,L(e),Ft(e.$$)}for(L(null),S.length=0,W=0;at.length;)at.pop()();for(let e=0;e<j.length;e+=1){const n=j[e];K.has(n)||(K.add(n),n())}j.length=0}while(S.length);for(;ft.length;)ft.pop()();U=!1,K.clear(),L(t)}function Ft(t){if(t.fragment!==null){t.update(),I(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(X)}}const P=new Set;let Ht;function z(t,e){t&&t.i&&(P.delete(t),t.i(e))}function bt(t,e,n,r){if(t&&t.o){if(P.has(t))return;P.add(t),Ht.c.push(()=>{P.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function Et(t){t&&t.c()}function tt(t,e,n,r){const{fragment:o,after_update:l}=t.$$;o&&o.m(e,n),r||X(()=>{const i=t.$$.on_mount.map(vt).filter(J);t.$$.on_destroy?t.$$.on_destroy.push(...i):I(i),t.$$.on_mount=[]}),l.forEach(X)}function et(t,e){const n=t.$$;n.fragment!==null&&(I(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Yt(t,e){t.$$.dirty[0]===-1&&(S.push(t),Rt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function nt(t,e,n,r,o,l,i,u=[-1]){const c=O;L(t);const s=t.$$={fragment:null,ctx:[],props:l,update:w,not_equal:o,bound:ct(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:ct(),dirty:u,skip_bound:!1,root:e.target||c.$$.root};i&&i(s.root);let d=!1;if(s.ctx=n?n(t,e.props||{},(p,g,...b)=>{const h=b.length?b[0]:g;return s.ctx&&o(s.ctx[p],s.ctx[p]=h)&&(!s.skip_bound&&s.bound[p]&&s.bound[p](h),d&&Yt(t,p)),g}):[],s.update(),d=!0,I(s.before_update),s.fragment=r?r(s.ctx):!1,e.target){if(e.hydrate){const p=Ot(e.target);s.fragment&&s.fragment.l(p),p.forEach(A)}else s.fragment&&s.fragment.c();e.intro&&z(t.$$.fragment),tt(t,e.target,e.anchor,e.customElement),yt()}L(c)}class rt{$destroy(){et(this,1),this.$destroy=w}$on(e,n){if(!J(n))return w;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const o=r.indexOf(n);o!==-1&&r.splice(o,1)}}$set(e){this.$$set&&!Lt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function T(t,e){return t??(t=0),e??(e=0),Math.floor(Math.random()*(t-e))+e}let f,_,$,H=!0,qt=7,ot=9,dt=2,mt=0;const Mt="u",Dt="p",G="f",lt="t",kt="w",Y="c",pt=200,Bt=2,Q=[G,lt];function wt(t,e,n){t=Math.max(t,1),f=H?[]:f??[];let r=e??Math.floor(t/2),o=n??Math.floor(t/2);_=r,$=o,V(r,o);for(let l=1;l<t;l++){let i=l%2==0?l:-l;r+=i,o+=i,V(r,o)}f=Ct(!0,t,e,n)}function Kt(t,e,n,r){if(!t)return t;r??(r=ot);let o=Math.floor(r/2);e??(e=o),n??(n=o);let l=[];for(let i=0;i<r;i++)for(let u=0;u<r;u++){let c=e-o+i,s=n-o+u,d=(t[c]&&t[c][s])??Mt;l[i]??(l[i]=[]),l[i][u]=d}return l[o][o]=Dt,l}function Qt(){let t=xt();if(_<t&&(f.splice(0,0,[]),_=t),$<t){let e=Nt();for(let n=0;n<e;n++)f[n].splice(0,0,void 0);$=t}}function Ut(t){return[...t.map(e=>[...e])]}function Ct(t,e,n,r){var p;if(!f)return f;e=e??ot,n=n??_,r=r??$;let o=Ut(f),l=Nt(),i=Gt(),u=Math.min(e??l,l),c=Math.min(e??i,i),s=Math.max((n??0)-Math.floor(u/2),0),d=Math.max((r??0)-Math.floor(c/2),0);for(let g=0;g<u;g++)for(let b=0;b<c;b++){let h=s+g,k=d+b;o[h]??(o[h]=[]);let E=t?q(h,k):Mt;(p=o[h])[k]??(p[k]=E)}return o}function V(t,e,n){var r;return t??(t=_),e??(e=$),f??(f=[]),f[t]??(f[t]=[]),(r=f[t])[e]??(r[e]=n??q(t,e)),n}function q(t,e){if(t??(t=_),e??(e=$),f&&f[t]&&f[t][e])return f[t][e];let n;if(T(pt)==1&&T(pt)<mt++)n=Y,mt=0;else{let r=Xt(t,e),o=T(r.length+1);o>=r.length?(o=T(Q.length+Bt),n=o>=Q.length?G:Q[o]):n=r[o]}return H&&(n==Y||n==kt)&&(n=G),n}function Xt(t,e){let n=[];for(let r=t-1;r<=t+1;r++)for(let o=e-1;o<=e+1;o++)f[r]&&f[r][o]&&f[r][o]!=Y&&n.push(f[r][o]);return n}function xt(){return q()==lt?Math.floor(dt/2):dt}function Nt(t){return t??(t=f??[]),t.length}function Gt(t){t??(t=f??[]);let e=t.map(n=>n.length).sort((n,r)=>n-r);return e[e.length-1]}function Vt(t){if(_+=t.x,$+=t.y,Qt(),V()==kt)return _-=t.x,$-=t.y,!1;{let n=xt();n>0&&wt(n*2+1,_,$)}return!0}function Jt(){return H=!0,wt(qt),H=!1,St()}function St(){let t=Ct(!1);return Kt(t,_,$,ot)}function ht(){return{X:_,Y:$,terrain:q()}}function Zt(t){let e,n,r,o,l,i,u,c,s,d,p,g,b,h,k,E,C,it,x,st,N,D,ut;return{c(){e=m("div"),n=m("div"),r=m("button"),r.textContent="NW",o=y(),l=m("button"),l.textContent="N",i=y(),u=m("button"),u.textContent="NE",c=y(),s=m("div"),d=m("button"),d.textContent="W",p=y(),g=m("button"),g.textContent="Menu",b=y(),h=m("button"),h.textContent="E",k=y(),E=m("div"),C=m("button"),C.textContent="SW",it=y(),x=m("button"),x.textContent="S",st=y(),N=m("button"),N.textContent="SE",v(r,"class","svelte-1pul4gk"),v(l,"class","svelte-1pul4gk"),v(u,"class","svelte-1pul4gk"),v(d,"class","svelte-1pul4gk"),v(g,"class","svelte-1pul4gk"),F(g,"visibility","hidden"),v(h,"class","svelte-1pul4gk"),v(C,"class","svelte-1pul4gk"),v(x,"class","svelte-1pul4gk"),v(N,"class","svelte-1pul4gk"),F(e,"margin","20px")},m(B,Tt){R(B,e,Tt),a(e,n),a(n,r),a(n,o),a(n,l),a(n,i),a(n,u),a(e,c),a(e,s),a(s,d),a(s,p),a(s,g),a(s,b),a(s,h),a(e,k),a(e,E),a(E,C),a(E,it),a(E,x),a(E,st),a(E,N),D||(ut=[M(window,"keydown",t[8]),M(r,"click",t[0]),M(l,"click",t[1]),M(u,"click",t[2]),M(d,"click",t[3]),M(h,"click",t[4]),M(C,"click",t[5]),M(x,"click",t[6]),M(N,"click",t[7])],D=!0)},p:w,i:w,o:w,d(B){B&&A(e),D=!1,I(ut)}}}function zt(t){const e=$t(),n=()=>e("move",{x:-1,y:-1}),r=()=>e("move",{x:-1,y:0}),o=()=>e("move",{x:-1,y:1}),l=()=>e("move",{x:0,y:-1}),i=()=>e("move",{x:0,y:1}),u=()=>e("move",{x:1,y:-1}),c=()=>e("move",{x:1,y:0}),s=()=>e("move",{x:1,y:1});function d(p){switch(p.key){case"q":n();break;case"w":r();break;case"e":o();break;case"a":l();break;case"d":i();break;case"z":u();break;case"s":c();break;case"c":s();break}}return[n,r,o,l,i,u,c,s,d]}class te extends rt{constructor(e){super(),nt(this,e,zt,Zt,Z,{})}}function ee(t){let e,n,r,o,l,i;return r=new te({}),r.$on("move",t[3]),{c(){e=m("div"),n=y(),Et(r.$$.fragment),v(e,"class","svelte-1bdh9a3")},m(u,c){R(u,e,c),e.innerHTML=t[0],R(u,n,c),tt(r,u,c),o=!0,l||(i=At(t[1].call(null,e)),l=!0)},p(u,[c]){(!o||c&1)&&(e.innerHTML=u[0])},i(u){o||(z(r.$$.fragment,u),o=!0)},o(u){bt(r.$$.fragment,u),o=!1},d(u){u&&A(e),u&&A(n),et(r,u),l=!1,i()}}}const gt=10;function ne(t){return`<span class="icon map-${t}"></span>`}function re(t,e,n){$t();let r="";function o(s){l(Jt())}function l(s){n(0,r=s.map(d=>d.map(ne).join("")).join("<br/>"))}function i(s){Vt(s)&&(l(St()),ht().terrain!=Y&&T(u())==1)}function u(){return ht().terrain==lt?Math.ceil(gt/2):gt}return[r,o,i,s=>i(s.detail)]}let oe=class extends rt{constructor(e){super(),nt(this,e,re,ee,Z,{})}};function le(t){let e,n,r,o,l,i,u;return i=new oe({}),i.$on("message",t[2]),{c(){e=m("main"),n=m("div"),r=m("div"),o=_t(t[0]),l=y(),Et(i.$$.fragment),v(r,"class","message row svelte-r9vvao"),F(r,"visibility",t[0]?"visible":"hidden"),v(n,"class","col svelte-r9vvao")},m(c,s){R(c,e,s),a(e,n),a(n,r),a(r,o),a(n,l),tt(i,n,null),u=!0},p(c,[s]){(!u||s&1)&&It(o,c[0]),s&1&&F(r,"visibility",c[0]?"visible":"hidden")},i(c){u||(z(i.$$.fragment,c),u=!0)},o(c){bt(i.$$.fragment,c),u=!1},d(c){c&&A(e),et(i)}}}function ie(t,e,n){let r="";function o(i){n(0,r=i.message??""),i.timeout&&setTimeout(()=>{n(0,r="")},i.timeout)}return[r,o,i=>o(i.detail)]}class se extends rt{constructor(e){super(),nt(this,e,ie,le,Z,{})}}new se({target:document.getElementById("app")});
