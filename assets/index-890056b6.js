(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function E(){}const lt=e=>e;function te(e,t){for(const n in t)e[n]=t[n];return e}function Ue(e){return e()}function Ce(){return Object.create(null)}function K(e){e.forEach(Ue)}function ct(e){return typeof e=="function"}function X(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function sn(e){return Object.keys(e).length===0}function on(e,...t){if(e==null)return E;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function H(e,t,n){e.$$.on_destroy.push(on(t,n))}function Wt(e){return e??""}function ee(e,t,n){return e.set(n),t}function St(e){return e&&ct(e.destroy)?e.destroy:E}const De=typeof window<"u";let Tt=De?()=>window.performance.now():()=>Date.now(),ue=De?e=>requestAnimationFrame(e):E;const pt=new Set;function Be(e){pt.forEach(t=>{t.c(e)||(pt.delete(t),t.f())}),pt.size!==0&&ue(Be)}function Nt(e){let t;return pt.size===0&&ue(Be),{promise:new Promise(n=>{pt.add(t={c:e,f:n})}),abort(){pt.delete(t)}}}function g(e,t){e.appendChild(t)}function We(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function ln(e){const t=y("style");return cn(We(e),t),t.sheet}function cn(e,t){return g(e.head||e,t),t.sheet}function N(e,t,n){e.insertBefore(t,n||null)}function M(e){e.parentNode&&e.parentNode.removeChild(e)}function y(e){return document.createElement(e)}function un(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function et(e){return document.createTextNode(e)}function T(){return et(" ")}function Xe(){return et("")}function x(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function b(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function fn(e){return Array.from(e.childNodes)}function vt(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function Se(e,t){e.value=t??""}function Ft(e,t,n,r){n===null?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}function nt(e,t,n){e.classList[n?"add":"remove"](t)}function ze(e,t,{bubbles:n=!1,cancelable:r=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(e,n,r,t),i}class an{constructor(t=!1){this.is_svg=!1,this.is_svg=t,this.e=this.n=null}c(t){this.h(t)}m(t,n,r=null){this.e||(this.is_svg?this.e=un(n.nodeName):this.e=y(n.nodeName),this.t=n,this.c(t)),this.i(r)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let n=0;n<this.n.length;n+=1)N(this.t,this.n[n],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(M)}}function Te(e,t){return new e(t)}const Xt=new Map;let zt=0;function dn(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function pn(e,t){const n={stylesheet:ln(t),rules:{}};return Xt.set(e,n),n}function wt(e,t,n,r,i,s,u,o=0){const c=16.666/r;let l=`{
`;for(let m=0;m<=1;m+=c){const v=t+(n-t)*s(m);l+=m*100+`%{${u(v,1-v)}}
`}const f=l+`100% {${u(n,1-n)}}
}`,d=`__svelte_${dn(f)}_${o}`,a=We(e),{stylesheet:_,rules:p}=Xt.get(a)||pn(a,e);p[d]||(p[d]=!0,_.insertRule(`@keyframes ${d} ${f}`,_.cssRules.length));const h=e.style.animation||"";return e.style.animation=`${h?`${h}, `:""}${d} ${r}ms linear ${i}ms 1 both`,zt+=1,d}function Et(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?s=>s.indexOf(t)<0:s=>s.indexOf("__svelte")===-1),i=n.length-r.length;i&&(e.style.animation=r.join(", "),zt-=i,zt||_n())}function _n(){ue(()=>{zt||(Xt.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&M(t)}),Xt.clear())})}function mn(e,t,n,r){if(!t)return E;const i=e.getBoundingClientRect();if(t.left===i.left&&t.right===i.right&&t.top===i.top&&t.bottom===i.bottom)return E;const{delay:s=0,duration:u=300,easing:o=lt,start:c=Tt()+s,end:l=c+u,tick:f=E,css:d}=n(e,{from:t,to:i},r);let a=!0,_=!1,p;function h(){d&&(p=wt(e,0,1,u,s,o,d)),s||(_=!0)}function m(){d&&Et(e,p),a=!1}return Nt(v=>{if(!_&&v>=c&&(_=!0),_&&v>=l&&(f(1,0),m()),!a)return!1;if(_){const w=v-c,$=0+1*o(w/u);f($,1-$)}return!0}),h(),f(0,1),m}function hn(e){const t=getComputedStyle(e);if(t.position!=="absolute"&&t.position!=="fixed"){const{width:n,height:r}=t,i=e.getBoundingClientRect();e.style.position="absolute",e.style.width=n,e.style.height=r,Ke(e,i)}}function Ke(e,t){const n=e.getBoundingClientRect();if(t.left!==n.left||t.top!==n.top){const r=getComputedStyle(e),i=r.transform==="none"?"":r.transform;e.style.transform=`${i} translate(${t.left-n.left}px, ${t.top-n.top}px)`}}let Mt;function kt(e){Mt=e}function fe(){if(!Mt)throw new Error("Function called outside component initialization");return Mt}function gn(e){fe().$$.on_mount.push(e)}function vn(e){fe().$$.on_destroy.push(e)}function yn(){const e=fe();return(t,n,{cancelable:r=!1}={})=>{const i=e.$$.callbacks[t];if(i){const s=ze(t,n,{cancelable:r});return i.slice().forEach(u=>{u.call(e,s)}),!s.defaultPrevented}return!0}}const bt=[],Ne=[],Ht=[],Ie=[],bn=Promise.resolve();let ne=!1;function $n(){ne||(ne=!0,bn.then(Ye))}function B(e){Ht.push(e)}const Jt=new Set;let Lt=0;function Ye(){const e=Mt;do{for(;Lt<bt.length;){const t=bt[Lt];Lt++,kt(t),kn(t.$$)}for(kt(null),bt.length=0,Lt=0;Ne.length;)Ne.pop()();for(let t=0;t<Ht.length;t+=1){const n=Ht[t];Jt.has(n)||(Jt.add(n),n())}Ht.length=0}while(bt.length);for(;Ie.length;)Ie.pop()();ne=!1,Jt.clear(),kt(e)}function kn(e){if(e.fragment!==null){e.update(),K(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(B)}}let yt;function ae(){return yt||(yt=Promise.resolve(),yt.then(()=>{yt=null})),yt}function ot(e,t,n){e.dispatchEvent(ze(`${t?"intro":"outro"}${n}`))}const Ut=new Set;let Q;function _t(){Q={r:0,c:[],p:Q}}function mt(){Q.r||K(Q.c),Q=Q.p}function A(e,t){e&&e.i&&(Ut.delete(e),e.i(t))}function O(e,t,n,r){if(e&&e.o){if(Ut.has(e))return;Ut.add(e),Q.c.push(()=>{Ut.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}const de={duration:0};function pe(e,t,n){const r={direction:"in"};let i=t(e,n,r),s=!1,u,o,c=0;function l(){u&&Et(e,u)}function f(){const{delay:a=0,duration:_=300,easing:p=lt,tick:h=E,css:m}=i||de;m&&(u=wt(e,0,1,_,a,p,m,c++)),h(0,1);const v=Tt()+a,w=v+_;o&&o.abort(),s=!0,B(()=>ot(e,!0,"start")),o=Nt($=>{if(s){if($>=w)return h(1,0),ot(e,!0,"end"),l(),s=!1;if($>=v){const C=p(($-v)/_);h(C,1-C)}}return s})}let d=!1;return{start(){d||(d=!0,Et(e),ct(i)?(i=i(r),ae().then(f)):f())},invalidate(){d=!1},end(){s&&(l(),s=!1)}}}function _e(e,t,n){const r={direction:"out"};let i=t(e,n,r),s=!0,u;const o=Q;o.r+=1;function c(){const{delay:l=0,duration:f=300,easing:d=lt,tick:a=E,css:_}=i||de;_&&(u=wt(e,1,0,f,l,d,_));const p=Tt()+l,h=p+f;B(()=>ot(e,!1,"start")),Nt(m=>{if(s){if(m>=h)return a(0,1),ot(e,!1,"end"),--o.r||K(o.c),!1;if(m>=p){const v=d((m-p)/f);a(1-v,v)}}return s})}return ct(i)?ae().then(()=>{i=i(r),c()}):c(),{end(l){l&&i.tick&&i.tick(1,0),s&&(u&&Et(e,u),s=!1)}}}function rt(e,t,n,r){const i={direction:"both"};let s=t(e,n,i),u=r?0:1,o=null,c=null,l=null;function f(){l&&Et(e,l)}function d(_,p){const h=_.b-u;return p*=Math.abs(h),{a:u,b:_.b,d:h,duration:p,start:_.start,end:_.start+p,group:_.group}}function a(_){const{delay:p=0,duration:h=300,easing:m=lt,tick:v=E,css:w}=s||de,$={start:Tt()+p,b:_};_||($.group=Q,Q.r+=1),o||c?c=$:(w&&(f(),l=wt(e,u,_,h,p,m,w)),_&&v(0,1),o=d($,h),B(()=>ot(e,_,"start")),Nt(C=>{if(c&&C>c.start&&(o=d(c,h),c=null,ot(e,o.b,"start"),w&&(f(),l=wt(e,u,o.b,o.duration,0,m,s.css))),o){if(C>=o.end)v(u=o.b,1-u),ot(e,o.b,"end"),c||(o.b?f():--o.group.r||K(o.group.c)),o=null;else if(C>=o.start){const R=C-o.start;u=o.a+o.d*m(R/o.duration),v(u,1-u)}}return!!(o||c)}))}return{run(_){ct(s)?ae().then(()=>{s=s(i),a(_)}):a(_)},end(){f(),o=c=null}}}function wn(e,t){O(e,1,1,()=>{t.delete(e.key)})}function En(e,t){e.f(),wn(e,t)}function Mn(e,t,n,r,i,s,u,o,c,l,f,d){let a=e.length,_=s.length,p=a;const h={};for(;p--;)h[e[p].key]=p;const m=[],v=new Map,w=new Map;for(p=_;p--;){const I=d(i,s,p),k=n(I);let S=u.get(k);S?r&&S.p(I,t):(S=l(k,I),S.c()),v.set(k,m[p]=S),k in h&&w.set(k,Math.abs(p-h[k]))}const $=new Set,C=new Set;function R(I){A(I,1),I.m(o,f),u.set(I.key,I),f=I.first,_--}for(;a&&_;){const I=m[_-1],k=e[a-1],S=I.key,q=k.key;I===k?(f=I.first,a--,_--):v.has(q)?!u.has(S)||$.has(S)?R(I):C.has(q)?a--:w.get(S)>w.get(q)?(C.add(S),R(I)):($.add(q),a--):(c(k,u),a--)}for(;a--;){const I=e[a];v.has(I.key)||c(I,u)}for(;_;)R(m[_-1]);return m}function Cn(e,t){const n={},r={},i={$$scope:1};let s=e.length;for(;s--;){const u=e[s],o=t[s];if(o){for(const c in u)c in o||(r[c]=1);for(const c in o)i[c]||(n[c]=o[c],i[c]=1);e[s]=o}else for(const c in u)i[c]=1}for(const u in r)u in n||(n[u]=void 0);return n}function Sn(e){return typeof e=="object"&&e!==null?e:{}}function F(e){e&&e.c()}function P(e,t,n,r){const{fragment:i,after_update:s}=e.$$;i&&i.m(t,n),r||B(()=>{const u=e.$$.on_mount.map(Ue).filter(ct);e.$$.on_destroy?e.$$.on_destroy.push(...u):K(u),e.$$.on_mount=[]}),s.forEach(B)}function L(e,t){const n=e.$$;n.fragment!==null&&(K(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Tn(e,t){e.$$.dirty[0]===-1&&(bt.push(e),$n(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Y(e,t,n,r,i,s,u,o=[-1]){const c=Mt;kt(e);const l=e.$$={fragment:null,ctx:[],props:s,update:E,not_equal:i,bound:Ce(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:Ce(),dirty:o,skip_bound:!1,root:t.target||c.$$.root};u&&u(l.root);let f=!1;if(l.ctx=n?n(e,t.props||{},(d,a,..._)=>{const p=_.length?_[0]:a;return l.ctx&&i(l.ctx[d],l.ctx[d]=p)&&(!l.skip_bound&&l.bound[d]&&l.bound[d](p),f&&Tn(e,d)),a}):[],l.update(),f=!0,K(l.before_update),l.fragment=r?r(l.ctx):!1,t.target){if(t.hydrate){const d=fn(t.target);l.fragment&&l.fragment.l(d),d.forEach(M)}else l.fragment&&l.fragment.c();t.intro&&A(e.$$.fragment),P(e,t.target,t.anchor,t.customElement),Ye()}kt(c)}class G{$destroy(){L(this,1),this.$destroy=E}$on(t,n){if(!ct(n))return E;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(t){this.$$set&&!sn(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const at=[];function It(e,t=E){let n;const r=new Set;function i(o){if(X(e,o)&&(e=o,n)){const c=!at.length;for(const l of r)l[1](),at.push(l,e);if(c){for(let l=0;l<at.length;l+=2)at[l][0](at[l+1]);at.length=0}}}function s(o){i(o(e))}function u(o,c=E){const l=[o,c];return r.add(l),r.size===1&&(n=t(i)||E),o(e),()=>{r.delete(l),r.size===0&&(n(),n=null)}}return{set:i,update:s,subscribe:u}}function Nn(e){return e<.5?4*e*e*e:.5*Math.pow(2*e-2,3)+1}function Kt(e){const t=e-1;return t*t*t+1}function Re(e,{delay:t=0,duration:n=400,easing:r=Nn,amount:i=5,opacity:s=0}={}){const u=getComputedStyle(e),o=+u.opacity,c=u.filter==="none"?"":u.filter,l=o*(1-s);return{delay:t,duration:n,easing:r,css:(f,d)=>`opacity: ${o-l*d}; filter: ${c} blur(${d*i}px);`}}function Ge(e,{delay:t=0,duration:n=400,easing:r=lt}={}){const i=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:r,css:s=>`opacity: ${s*i}`}}function Gt(e,{delay:t=0,duration:n=400,easing:r=Kt,x:i=0,y:s=0,opacity:u=0}={}){const o=getComputedStyle(e),c=+o.opacity,l=o.transform==="none"?"":o.transform,f=c*(1-u);return{delay:t,duration:n,easing:r,css:(d,a)=>`
			transform: ${l} translate(${(1-d)*i}px, ${(1-d)*s}px);
			opacity: ${c-f*a}`}}const In=60,Rn=80,An=5,On=9,jn=20,xn=40,qn=1,Pn=12,Ae=200,re=500,Ln=7,Fn=9,Hn=2,Un=2,Oe=200,je=10,Qe=200,J={TITLE:0,MAP:1,MENU:2,ENC:3},Rt=It(J.TITLE);function me(){Rt.set(J.MAP)}function Dn(){Rt.set(J.MENU)}function Bn(){Rt.set(J.ENC)}function Wn(){Rt.set(J.TITLE)}function it(e){return Ge(e,{duration:Qe})}function z(e,t){return e??(e=0),t??(t=0),Math.floor(Math.random()*(e-t))+t}function Dt(e,t){setTimeout(t,e)}function Ze(){let e="",t=z(Rn,In),n=z(On,An);return{name:e,hp:t,maxhp:t,str:n,steps:0}}const Z=It(Ze());function Xn(){Z.set(Ze())}function zn(e){let t,n,r,i,s,u,o,c,l,f,d,a,_,p,h;return{c(){t=y("div"),n=y("div"),r=y("h1"),r.textContent="Relic",i=T(),s=y("p"),s.textContent="by elyktc",u=T(),o=y("div"),c=y("input"),l=T(),f=y("div"),d=y("button"),d.textContent="Start",Ft(r,"margin-right","50px"),Ft(s,"margin-left","100px"),b(c,"maxlength","8"),b(c,"class","svelte-csojaf"),Ft(c,"display","none"),b(o,"class","row"),b(n,"class","view col"),b(f,"class","ctrls")},m(m,v){N(m,t,v),g(t,n),g(n,r),g(n,i),g(n,s),g(n,u),g(n,o),g(o,c),Se(c,e[0].name),g(t,l),g(t,f),g(f,d),_=!0,p||(h=[x(c,"input",e[2]),St(e[1].call(null,d)),x(d,"click",me)],p=!0)},p(m,[v]){v&1&&c.value!==m[0].name&&Se(c,m[0].name)},i(m){_||(B(()=>{a||(a=rt(t,it,{},!0)),a.run(1)}),_=!0)},o(m){a||(a=rt(t,it,{},!1)),a.run(0),_=!1},d(m){m&&M(t),m&&a&&a.end(),p=!1,K(h)}}}function Kn(e,t,n){let r;H(e,Z,u=>n(0,r=u));function i(u){Xn(),u.focus()}function s(){r.name=this.value,Z.set(r)}return[r,i,s]}class Yn extends G{constructor(t){super(),Y(this,t,Kn,zn,X,{})}}function Gn(e){let t,n,r,i,s,u,o,c,l,f,d,a,_,p,h,m,v,w,$,C,R,I,k;return{c(){t=y("div"),n=y("div"),r=y("button"),r.textContent="NW",i=T(),s=y("button"),s.textContent="N",u=T(),o=y("button"),o.textContent="NE",c=T(),l=y("div"),f=y("button"),f.textContent="W",d=T(),a=y("button"),a.textContent="Menu",_=T(),p=y("button"),p.textContent="E",h=T(),m=y("div"),v=y("button"),v.textContent="SW",w=T(),$=y("button"),$.textContent="S",C=T(),R=y("button"),R.textContent="SE",b(t,"class","ctrls")},m(S,q){N(S,t,q),g(t,n),g(n,r),g(n,i),g(n,s),g(n,u),g(n,o),g(t,c),g(t,l),g(l,f),g(l,d),g(l,a),g(l,_),g(l,p),g(t,h),g(t,m),g(m,v),g(m,w),g(m,$),g(m,C),g(m,R),I||(k=[x(window,"keydown",e[8]),x(r,"click",e[0]),x(s,"click",e[1]),x(o,"click",e[2]),x(f,"click",e[3]),x(a,"click",Dn),x(p,"click",e[4]),x(v,"click",e[5]),x($,"click",e[6]),x(R,"click",e[7])],I=!0)},p:E,i:E,o:E,d(S){S&&M(t),I=!1,K(k)}}}function Qn(e){const t=yn(),n=()=>t("move",{x:-1,y:-1}),r=()=>t("move",{x:-1,y:0}),i=()=>t("move",{x:-1,y:1}),s=()=>t("move",{x:0,y:-1}),u=()=>t("move",{x:0,y:1}),o=()=>t("move",{x:1,y:-1}),c=()=>t("move",{x:1,y:0}),l=()=>t("move",{x:1,y:1});function f(d){switch(d.key){case"q":n();break;case"w":r();break;case"e":i();break;case"a":s();break;case"d":u();break;case"z":o();break;case"s":c();break;case"c":l();break}}return[n,r,i,s,u,o,c,l,f]}class Zn extends G{constructor(t){super(),Y(this,t,Qn,Gn,X,{})}}let j,U,D,he,ge,ht=!0,ve=Fn,xe=Hn,ie=0,ye=0;const Vn="u",be="f",Bt="p",$e="t",Ve="w",Yt="c";function Je(e,t,n){e=Math.max(e,1),j=ht?[]:j??[];let r=t??Math.floor(e/2),i=n??Math.floor(e/2);U=r,D=i,ht&&(he=U,ge=D,ie=0,ye=0),se(r,i);for(let s=1;s<e;s++){let u=s%2==0?s:-s;r+=u,i+=u,se(r,i)}j=tn(!0,e,t,n)}function Jn(e,t,n,r){if(!e)return e;r??(r=ve);let i=Math.floor(r/2);t??(t=i),n??(n=i);let s=[];for(let u=0;u<r;u++)for(let o=0;o<r;o++){let c=t-i+u,l=n-i+o,f=(e[c]&&e[c][l])??be;s[u]??(s[u]=[]),s[u][o]=f}return s[i][i]=Vn,s}function tr(){let e=en();if(U<e&&(j.splice(0,0,[]),he++,U=e),D<e){let t=nn();for(let n=0;n<t;n++)j[n].splice(0,0,void 0);ge++,D=e}}function er(e){return[...e.map(t=>[...t])]}function tn(e,t,n,r){var d;if(!j)return j;t=t??ve,n=n??U,r=r??D;let i=er(j),s=nn(),u=rr(),o=Math.min(t??s,s),c=Math.min(t??u,u),l=Math.max((n??0)-Math.floor(o/2),0),f=Math.max((r??0)-Math.floor(c/2),0);for(let a=0;a<o;a++)for(let _=0;_<c;_++){let p=l+a,h=f+_;i[p]??(i[p]=[]);let m=e?Qt(p,h):be;(d=i[p])[h]??(d[h]=m)}return i}function se(e,t,n){var r;return e??(e=U),t??(t=D),j??(j=[]),j[e]??(j[e]=[]),(r=j[e])[t]??(r[t]=n??Qt(e,t)),n}function Qt(e,t){if(e??(e=U),t??(t=D),j&&j[e]&&j[e][t])return j[e][t];let n;if(z(Oe)==1&&z(Oe)<ie++)n=Yt,ie=0;else{let r=nr(e,t),i=z(r.length+1);if(i>=r.length){let s=[Bt,$e];i=z(s.length+Un),n=i>=s.length?Bt:s[i]}else n=r[i]}return ht&&(n==Yt||n==Ve)&&(n=Bt),ht||ye++,n}function nr(e,t){let n=[];for(let r=e-1;r<=e+1;r++)for(let i=t-1;i<=t+1;i++)j[r]&&j[r][i]&&j[r][i]!=Yt&&n.push(j[r][i]);return n}function en(){return Qt()==$e?Math.floor(xe/2):xe}function nn(e){return e??(e=j??[]),e.length}function rr(e){e??(e=j??[]);let t=e.map(n=>n.length).sort((n,r)=>n-r);return t[t.length-1]}function ir(e){if(U+=e.x,D+=e.y,tr(),se()==Ve)return U-=e.x,D-=e.y,!1;{let n=en();n>0&&Je(n*2+1,U,D)}return!0}function sr(){let e=tn(!1);return Jn(e,U,D,ve)}function or(){let e=Math.abs(U-he),t=Math.abs(D-ge);return Math.ceil(Math.hypot(e,t))}function lr(){return ye}function cr(){return{x:U,y:D,terrain:Qt(),distance:or()}}function ur(){ht=!0,Je(Ln),ht=!1}const qe={FOG:be,PLAIN:Bt,FOREST:$e,CITY:Yt},dt={miniMap:sr,location:cr,move:ir,getExplored:lr};function fr(e){let t,n,r,i,s,u,o,c;return i=new Zn({}),i.$on("move",e[3]),{c(){t=y("div"),n=y("div"),r=T(),F(i.$$.fragment),b(n,"class","view field svelte-1f1cfey")},m(l,f){N(l,t,f),g(t,n),n.innerHTML=e[0],g(t,r),P(i,t,null),u=!0,o||(c=St(e[2].call(null,n)),o=!0)},p(l,[f]){(!u||f&1)&&(n.innerHTML=l[0])},i(l){u||(A(i.$$.fragment,l),B(()=>{s||(s=rt(t,it,{},!0)),s.run(1)}),u=!0)},o(l){O(i.$$.fragment,l),s||(s=rt(t,it,{},!1)),s.run(0),u=!1},d(l){l&&M(t),L(i),l&&s&&s.end(),o=!1,c()}}}function ar(e){return`<span class="icon map-${e}"></span>`}function dr(e,t,n){let r;H(e,Z,f=>n(4,r=f));function i(f){n(0,c=f.map(d=>d.map(ar).join("")).join("<br/>"))}function s(){return dt.location().terrain==qe.FOREST?Math.ceil(je/2):je}function u(f){dt.move(f)&&(ee(Z,r.steps++,r),i(dt.miniMap()),dt.location().terrain!=qe.CITY&&z(s())==1&&Bn())}function o(f){r.steps||ur(),i(dt.miniMap())}let c="";return[c,u,o,f=>u(f.detail)]}let pr=class extends G{constructor(t){super(),Y(this,t,dr,fr,X,{})}};function _r(e){let t,n,r,i=e[0].name+"",s,u,o,c,l,f,d=e[0].hp+"",a,_,p=e[0].maxhp+"",h,m,v,w,$,C,R=e[0].str+"",I,k,S,q,ut,At,Ot=new Intl.NumberFormat().format(e[0].steps)+"",Zt,ke,ft,jt,we,xt,Ee,qt,Pt,tt,V,Vt,Me;return{c(){t=y("div"),n=y("div"),r=y("h1"),s=et(i),u=T(),o=y("div"),c=y("div"),c.textContent="Health",l=T(),f=y("div"),a=et(d),_=et(" / "),h=et(p),m=T(),v=y("div"),w=y("div"),w.textContent="Strength",$=T(),C=y("div"),I=et(R),k=T(),S=y("div"),q=y("div"),q.textContent="Steps",ut=T(),At=y("div"),Zt=et(Ot),ke=T(),ft=y("div"),jt=y("div"),jt.textContent="Explored",we=T(),xt=y("div"),xt.textContent=`${new Intl.NumberFormat().format(dt.getExplored())}`,Ee=T(),qt=y("div"),Pt=y("button"),Pt.textContent="Back",Ft(r,"display","none"),b(c,"class","col label svelte-qam9kv"),b(f,"class","col value svelte-qam9kv"),b(o,"class","row svelte-qam9kv"),b(w,"class","col label svelte-qam9kv"),b(C,"class","col value svelte-qam9kv"),b(v,"class","row svelte-qam9kv"),b(q,"class","col label svelte-qam9kv"),b(At,"class","col value svelte-qam9kv"),b(S,"class","row svelte-qam9kv"),b(jt,"class","col label svelte-qam9kv"),b(xt,"class","col value svelte-qam9kv"),b(ft,"class","row svelte-qam9kv"),b(n,"class","view col svelte-qam9kv"),b(qt,"class","ctrls")},m(W,st){N(W,t,st),g(t,n),g(n,r),g(r,s),g(n,u),g(n,o),g(o,c),g(o,l),g(o,f),g(f,a),g(f,_),g(f,h),g(n,m),g(n,v),g(v,w),g(v,$),g(v,C),g(C,I),g(n,k),g(n,S),g(S,q),g(S,ut),g(S,At),g(At,Zt),g(n,ke),g(n,ft),g(ft,jt),g(ft,we),g(ft,xt),g(t,Ee),g(t,qt),g(qt,Pt),V=!0,Vt||(Me=x(Pt,"click",me),Vt=!0)},p(W,[st]){(!V||st&1)&&i!==(i=W[0].name+"")&&vt(s,i),(!V||st&1)&&d!==(d=W[0].hp+"")&&vt(a,d),(!V||st&1)&&p!==(p=W[0].maxhp+"")&&vt(h,p),(!V||st&1)&&R!==(R=W[0].str+"")&&vt(I,R),(!V||st&1)&&Ot!==(Ot=new Intl.NumberFormat().format(W[0].steps)+"")&&vt(Zt,Ot)},i(W){V||(B(()=>{tt||(tt=rt(t,it,{},!0)),tt.run(1)}),V=!0)},o(W){tt||(tt=rt(t,it,{},!1)),tt.run(0),V=!1},d(W){W&&M(t),W&&tt&&tt.end(),Vt=!1,Me()}}}function mr(e,t,n){let r;return H(e,Z,i=>n(0,r=i)),[r]}class hr extends G{constructor(t){super(),Y(this,t,mr,_r,X,{})}}function gr(e,{from:t,to:n},r={}){const i=getComputedStyle(e),s=i.transform==="none"?"":i.transform,[u,o]=i.transformOrigin.split(" ").map(parseFloat),c=t.left+t.width*u/n.width-(n.left+u),l=t.top+t.height*o/n.height-(n.top+o),{delay:f=0,duration:d=_=>Math.sqrt(_)*120,easing:a=Kt}=r;return{delay:f,duration:ct(d)?d(Math.sqrt(c*c+l*l)):d,easing:a,css:(_,p)=>{const h=p*c,m=p*l,v=_+p*t.width/n.width,w=_+p*t.height/n.height;return`transform: ${s} translate(${h}px, ${m}px) scale(${v}, ${w});`}}}const vr={duration:4e3,initial:1,next:0,pausable:!1,dismissable:!0,reversed:!1,intro:{x:256}},yr=()=>{const{subscribe:e,update:t}=It([]);let n=0;const r={},i=l=>l instanceof Object;return{subscribe:e,push:(l,f={})=>{const d={target:"default",...i(l)?l:{...f,msg:l}},a=r[d.target]||{},_={...vr,...a,...d,theme:{...a.theme,...d.theme},classes:[...a.classes||[],...d.classes||[]],id:++n};return t(p=>_.reversed?[...p,_]:[_,...p]),n},pop:l=>{t(f=>{if(!f.length||l===0)return[];if(i(l))return f.filter(a=>l(a));const d=l||Math.max(...f.map(a=>a.id));return f.filter(a=>a.id!==d)})},set:(l,f={})=>{const d=i(l)?{...l}:{...f,id:l};t(a=>{const _=a.findIndex(p=>p.id===d.id);return _>-1&&(a[_]={...a[_],...d}),a})},_init:(l="default",f={})=>(r[l]=f,r)}},gt=yr();function Pe(e){return Object.prototype.toString.call(e)==="[object Date]"}function oe(e,t){if(e===t||e!==e)return()=>e;const n=typeof e;if(n!==typeof t||Array.isArray(e)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const r=t.map((i,s)=>oe(e[s],i));return i=>r.map(s=>s(i))}if(n==="object"){if(!e||!t)throw new Error("Object cannot be null");if(Pe(e)&&Pe(t)){e=e.getTime(),t=t.getTime();const s=t-e;return u=>new Date(e+u*s)}const r=Object.keys(t),i={};return r.forEach(s=>{i[s]=oe(e[s],t[s])}),s=>{const u={};return r.forEach(o=>{u[o]=i[o](s)}),u}}if(n==="number"){const r=t-e;return i=>e+i*r}throw new Error(`Cannot interpolate ${n} values`)}function le(e,t={}){const n=It(e);let r,i=e;function s(u,o){if(e==null)return n.set(e=u),Promise.resolve();i=u;let c=r,l=!1,{delay:f=0,duration:d=400,easing:a=lt,interpolate:_=oe}=te(te({},t),o);if(d===0)return c&&(c.abort(),c=null),n.set(e=i),Promise.resolve();const p=Tt()+f;let h;return r=Nt(m=>{if(m<p)return!0;l||(h=_(e,u),typeof d=="function"&&(d=d(e,u)),l=!0),c&&(c.abort(),c=null);const v=m-p;return v>d?(n.set(e=u),!1):(n.set(e=h(a(v/d))),!0)}),r.promise}return{set:s,update:(u,o)=>s(u(i,e),o),subscribe:n.subscribe}}function br(e){let t,n=e[0].msg+"",r;return{c(){t=new an(!1),r=Xe(),t.a=r},m(i,s){t.m(n,i,s),N(i,r,s)},p(i,s){s&1&&n!==(n=i[0].msg+"")&&t.p(n)},i:E,o:E,d(i){i&&M(r),i&&t.d()}}}function $r(e){let t,n,r;const i=[e[2]];var s=e[0].component.src;function u(o){let c={};for(let l=0;l<i.length;l+=1)c=te(c,i[l]);return{props:c}}return s&&(t=Te(s,u())),{c(){t&&F(t.$$.fragment),n=Xe()},m(o,c){t&&P(t,o,c),N(o,n,c),r=!0},p(o,c){const l=c&4?Cn(i,[Sn(o[2])]):{};if(s!==(s=o[0].component.src)){if(t){_t();const f=t;O(f.$$.fragment,1,0,()=>{L(f,1)}),mt()}s?(t=Te(s,u()),F(t.$$.fragment),A(t.$$.fragment,1),P(t,n.parentNode,n)):t=null}else s&&t.$set(l)},i(o){r||(t&&A(t.$$.fragment,o),r=!0)},o(o){t&&O(t.$$.fragment,o),r=!1},d(o){o&&M(n),t&&L(t,o)}}}function Le(e){let t,n,r;return{c(){t=y("div"),b(t,"class","_toastBtn pe svelte-l65oht"),b(t,"role","button"),b(t,"tabindex","0")},m(i,s){N(i,t,s),n||(r=[x(t,"click",e[4]),x(t,"keydown",e[8])],n=!0)},p:E,d(i){i&&M(t),n=!1,K(r)}}}function kr(e){let t,n,r,i,s,u,o,c,l,f;const d=[$r,br],a=[];function _(h,m){return h[0].component?0:1}r=_(e),i=a[r]=d[r](e);let p=e[0].dismissable&&Le(e);return{c(){t=y("div"),n=y("div"),i.c(),s=T(),p&&p.c(),u=T(),o=y("progress"),b(n,"role","status"),b(n,"class","_toastMsg svelte-l65oht"),nt(n,"pe",e[0].component),b(o,"class","_toastBar svelte-l65oht"),o.value=e[1],b(t,"class","_toastItem svelte-l65oht"),nt(t,"pe",e[0].pausable)},m(h,m){N(h,t,m),g(t,n),a[r].m(n,null),g(t,s),p&&p.m(t,null),g(t,u),g(t,o),c=!0,l||(f=[x(t,"mouseenter",e[9]),x(t,"mouseleave",e[6])],l=!0)},p(h,[m]){let v=r;r=_(h),r===v?a[r].p(h,m):(_t(),O(a[v],1,1,()=>{a[v]=null}),mt(),i=a[r],i?i.p(h,m):(i=a[r]=d[r](h),i.c()),A(i,1),i.m(n,null)),(!c||m&1)&&nt(n,"pe",h[0].component),h[0].dismissable?p?p.p(h,m):(p=Le(h),p.c(),p.m(t,u)):p&&(p.d(1),p=null),(!c||m&2)&&(o.value=h[1]),(!c||m&1)&&nt(t,"pe",h[0].pausable)},i(h){c||(A(i),c=!0)},o(h){O(i),c=!1},d(h){h&&M(t),a[r].d(),p&&p.d(),l=!1,K(f)}}}function wr(e,t,n){let r,{item:i}=t;const s=le(i.initial,{duration:i.duration,easing:lt});H(e,s,$=>n(1,r=$));const u=()=>gt.pop(i.id),o=()=>{(r===1||r===0)&&u()};let c=i.initial,l=c,f=!1;const d=()=>{!f&&r!==c&&(s.set(r,{duration:0}),f=!0)},a=()=>{if(f){const $=i.duration,C=$-$*((r-l)/(c-l));s.set(c,{duration:C}).then(o),f=!1}};let _={};const p=($,C="undefined")=>typeof $===C;let h;gn(($=document)=>{if(p($.hidden))return;const C=()=>$.hidden?d():a(),R="visibilitychange";$.addEventListener(R,C),h=()=>$.removeEventListener(R,C),C()}),vn(()=>{p(i.onpop,"function")&&i.onpop(i.id),h&&h()});const v=$=>{$ instanceof KeyboardEvent&&["Enter"," "].includes($.key)&&u()},w=()=>{i.pausable&&d()};return e.$$set=$=>{"item"in $&&n(0,i=$.item)},e.$$.update=()=>{if(e.$$.dirty&1&&(p(i.progress)||n(0,i.next=i.progress,i)),e.$$.dirty&131&&c!==i.next&&(n(7,c=i.next),l=r,f=!1,s.set(c).then(o)),e.$$.dirty&1&&i.component){const{props:$={},sendIdTo:C}=i.component;n(2,_={...$,...C&&{[C]:i.id}})}},[i,r,_,s,u,d,a,c,v,w]}class Er extends G{constructor(t){super(),Y(this,t,wr,kr,X,{item:0})}}function Fe(e,t,n){const r=e.slice();return r[5]=t[n],r}function He(e,t){let n,r,i,s,u,o,c,l,f=E,d;return r=new Er({props:{item:t[5]}}),{key:e,first:null,c(){n=y("li"),F(r.$$.fragment),i=T(),b(n,"class",s=Wt(t[5].classes.join(" "))+" svelte-yh90az"),b(n,"style",u=t[1](t[5].theme)),this.first=n},m(a,_){N(a,n,_),P(r,n,null),g(n,i),d=!0},p(a,_){t=a;const p={};_&1&&(p.item=t[5]),r.$set(p),(!d||_&1&&s!==(s=Wt(t[5].classes.join(" "))+" svelte-yh90az"))&&b(n,"class",s),(!d||_&1&&u!==(u=t[1](t[5].theme)))&&b(n,"style",u)},r(){l=n.getBoundingClientRect()},f(){hn(n),f(),Ke(n,l)},a(){f(),f=mn(n,l,gr,{duration:200})},i(a){d||(A(r.$$.fragment,a),B(()=>{c&&c.end(1),o=pe(n,Gt,t[5].intro),o.start()}),d=!0)},o(a){O(r.$$.fragment,a),o&&o.invalidate(),c=_e(n,Ge,{}),d=!1},d(a){a&&M(n),L(r),a&&c&&c.end()}}}function Mr(e){let t,n=[],r=new Map,i,s=e[0];const u=o=>o[5].id;for(let o=0;o<s.length;o+=1){let c=Fe(e,s,o),l=u(c);r.set(l,n[o]=He(l,c))}return{c(){t=y("ul");for(let o=0;o<n.length;o+=1)n[o].c();b(t,"class","_toastContainer svelte-yh90az")},m(o,c){N(o,t,c);for(let l=0;l<n.length;l+=1)n[l].m(t,null);i=!0},p(o,[c]){if(c&3){s=o[0],_t();for(let l=0;l<n.length;l+=1)n[l].r();n=Mn(n,c,u,1,o,s,r,t,En,He,null,Fe);for(let l=0;l<n.length;l+=1)n[l].a();mt()}},i(o){if(!i){for(let c=0;c<s.length;c+=1)A(n[c]);i=!0}},o(o){for(let c=0;c<n.length;c+=1)O(n[c]);i=!1},d(o){o&&M(t);for(let c=0;c<n.length;c+=1)n[c].d()}}}function Cr(e,t,n){let r;H(e,gt,c=>n(4,r=c));let{options:i={}}=t,{target:s="default"}=t,u;const o=c=>Object.keys(c).reduce((l,f)=>`${l}${f}:${c[f]};`,"");return e.$$set=c=>{"options"in c&&n(2,i=c.options),"target"in c&&n(3,s=c.target)},e.$$.update=()=>{e.$$.dirty&12&&gt._init(s,i),e.$$.dirty&24&&n(0,u=r.filter(c=>c.target===s))},[u,o,i,s,r]}class Sr extends G{constructor(t){super(),Y(this,t,Cr,Mr,X,{options:2,target:3})}}function Tr(e){let t,n,r,i,s,u;return n=new Sr({props:{options:e[2],target:e[1]}}),{c(){t=y("div"),F(n.$$.fragment),b(t,"class",r=Wt(`toast-wrapper-${e[0]}`)+" svelte-1tsv1kv")},m(o,c){N(o,t,c),P(n,t,null),i=!0,s||(u=St(e[3].call(null,t)),s=!0)},p(o,[c]){const l={};c&4&&(l.options=o[2]),c&2&&(l.target=o[1]),n.$set(l),(!i||c&1&&r!==(r=Wt(`toast-wrapper-${o[0]}`)+" svelte-1tsv1kv"))&&b(t,"class",r)},i(o){i||(A(n.$$.fragment,o),i=!0)},o(o){O(n.$$.fragment,o),i=!1},d(o){o&&M(t),L(n),s=!1,u()}}}function Nr(e,t,n){const r={duration:1e3,initial:1,next:0,pausable:!0,dismissable:!1,reversed:!1,intro:{x:0},theme:{},classes:[]},i={duration:500,initial:1,next:0,pausable:!1,dismissable:!1,reversed:!0,intro:{y:20,duration:100},theme:{},classes:[]};let s;function u(l){o==1?n(2,s=r):o==2&&n(2,s=i)}let{type:o=1}=t,{target:c=void 0}=t;return e.$$set=l=>{"type"in l&&n(0,o=l.type),"target"in l&&n(1,c=l.target)},[o,c,s,u]}class ce extends G{constructor(t){super(),Y(this,t,Nr,Tr,X,{type:0,target:1})}}function rn(){let e="",t=z(xn,jn),n=z(Pn,qn);return{name:e,hp:t,maxhp:t,str:n}}const Ct=It(rn());function Ir(){Ct.set(rn())}function Rr(e){let t;return{c(){t=y("div")},m(n,r){N(n,t,r)},p:E,i:E,o:E,d(n){n&&M(t)}}}function Ar(e){let t,n,r,i;return{c(){t=y("span"),b(t,"class","icon map-u svelte-15ez2vt"),nt(t,"rejoice",e[1])},m(s,u){N(s,t,u),i=!0},p(s,u){e=s,(!i||u&2)&&nt(t,"rejoice",e[1])},i(s){i||(B(()=>{r&&r.end(1),n=pe(t,Gt,e[2]),n.start()}),i=!0)},o(s){n&&n.invalidate(),r=_e(t,e[4],{}),i=!1},d(s){s&&M(t),s&&r&&r.end()}}}function Or(e){let t;return{c(){t=y("div")},m(n,r){N(n,t,r)},p:E,i:E,o:E,d(n){n&&M(t)}}}function jr(e){let t,n,r,i;return{c(){t=y("span"),b(t,"class","icon dragon svelte-15ez2vt"),nt(t,"rejoice",e[0])},m(s,u){N(s,t,u),i=!0},p(s,u){e=s,(!i||u&1)&&nt(t,"rejoice",e[0])},i(s){i||(B(()=>{r&&r.end(1),n=pe(t,Gt,e[3]),n.start()}),i=!0)},o(s){n&&n.invalidate(),r=_e(t,e[5],{}),i=!1},d(s){s&&M(t),s&&r&&r.end()}}}function xr(e){let t,n,r,i,s,u,o,c,l,f,d,a,_,p,h,m;const v=[Ar,Rr],w=[];function $(k,S){return k[0]?1:0}r=$(e),i=w[r]=v[r](e),o=new ce({props:{target:"user",type:2}}),d=new ce({props:{target:"enc",type:2}});const C=[jr,Or],R=[];function I(k,S){return k[1]?1:0}return p=I(e),h=R[p]=C[p](e),{c(){t=y("div"),n=y("div"),i.c(),s=T(),u=y("div"),F(o.$$.fragment),c=T(),l=y("div"),f=y("div"),F(d.$$.fragment),a=T(),_=y("div"),h.c(),b(n,"class","col user img svelte-15ez2vt"),b(u,"class","col toast"),b(t,"class","row"),b(f,"class","col toast"),b(_,"class","col enc img svelte-15ez2vt"),b(l,"class","row")},m(k,S){N(k,t,S),g(t,n),w[r].m(n,null),g(t,s),g(t,u),P(o,u,null),N(k,c,S),N(k,l,S),g(l,f),P(d,f,null),g(l,a),g(l,_),R[p].m(_,null),m=!0},p(k,[S]){let q=r;r=$(k),r===q?w[r].p(k,S):(_t(),O(w[q],1,1,()=>{w[q]=null}),mt(),i=w[r],i?i.p(k,S):(i=w[r]=v[r](k),i.c()),A(i,1),i.m(n,null));let ut=p;p=I(k),p===ut?R[p].p(k,S):(_t(),O(R[ut],1,1,()=>{R[ut]=null}),mt(),h=R[p],h?h.p(k,S):(h=R[p]=C[p](k),h.c()),A(h,1),h.m(_,null))},i(k){m||(A(i),A(o.$$.fragment,k),A(d.$$.fragment,k),A(h),m=!0)},o(k){O(i),O(o.$$.fragment,k),O(d.$$.fragment,k),O(h),m=!1},d(k){k&&M(t),w[r].d(),L(o),k&&M(c),k&&M(l),L(d),R[p].d()}}}function qr(e,t,n){let r,i;H(e,Ct,a=>n(6,r=a)),H(e,Z,a=>n(7,i=a));const s={x:40,duration:200},u={x:-40,duration:200},o={amount:40,duration:re};function c(a){return f?Re(a,o):Gt(a,s)}function l(a){return d?Re(a,o):void 0}let f,d;return e.$$.update=()=>{e.$$.dirty&128&&n(0,f=i.hp<=0),e.$$.dirty&64&&n(1,d=r.hp<=0)},[f,d,s,u,c,l,r,i]}class Pr extends G{constructor(t){super(),Y(this,t,qr,xr,X,{})}}function Lr(e){let t;return{c(){t=y("div")},m(n,r){N(n,t,r)},p:E,d(n){n&&M(t)}}}function Fr(e){let t;return{c(){t=y("progress"),t.value=e[2],b(t,"class","svelte-6in6vb")},m(n,r){N(n,t,r)},p(n,r){r&4&&(t.value=n[2])},d(n){n&&M(t)}}}function Hr(e){let t;return{c(){t=y("div")},m(n,r){N(n,t,r)},p:E,d(n){n&&M(t)}}}function Ur(e){let t;return{c(){t=y("progress"),t.value=e[3],b(t,"class","svelte-6in6vb")},m(n,r){N(n,t,r)},p(n,r){r&8&&(t.value=n[3])},d(n){n&&M(t)}}}function Dr(e){let t,n,r;function i(f,d){return f[1].hp>0?Fr:Lr}let s=i(e),u=s(e);function o(f,d){return f[0].hp>0?Ur:Hr}let c=o(e),l=c(e);return{c(){t=y("div"),u.c(),n=T(),r=y("div"),l.c(),b(t,"class","col user"),b(r,"class","col enc")},m(f,d){N(f,t,d),u.m(t,null),N(f,n,d),N(f,r,d),l.m(r,null)},p(f,[d]){s===(s=i(f))&&u?u.p(f,d):(u.d(1),u=s(f),u&&(u.c(),u.m(t,null))),c===(c=o(f))&&l?l.p(f,d):(l.d(1),l=c(f),l&&(l.c(),l.m(r,null)))},i:E,o:E,d(f){f&&M(t),u.d(),f&&M(n),f&&M(r),l.d()}}}function Br(e,t,n){let r,i,s,u;H(e,Ct,l=>n(0,r=l)),H(e,Z,l=>n(1,i=l));const o=le(0,{duration:Ae,easing:Kt});H(e,o,l=>n(2,s=l));const c=le(0,{duration:Ae,easing:Kt});return H(e,c,l=>n(3,u=l)),e.$$.update=()=>{e.$$.dirty&2&&i.hp&&o.set(i.hp/i.maxhp),e.$$.dirty&1&&r.hp&&c.set(r.hp/r.maxhp)},[r,i,s,u,o,c]}class Wr extends G{constructor(t){super(),Y(this,t,Br,Dr,X,{})}}function Xr(e,t=void 0){let n=t?{target:t}:void 0;gt.push(e,n)}function zr(e,t=void 0){let n={initial:0,next:0};t&&(n.target=t),gt.push(e,n)}function Kr(){gt.pop(0)}const $t={show:Xr,persist:zr,clear:Kr};function Yr(e){let t,n,r;return{c(){t=y("button"),t.textContent="Reset"},m(i,s){N(i,t,s),n||(r=x(t,"click",Wn),n=!0)},p:E,d(i){i&&M(t),n=!1,r()}}}function Gr(e){let t,n,r;return{c(){t=y("button"),t.textContent="Fight"},m(i,s){N(i,t,s),n||(r=x(t,"click",e[3]),n=!0)},p:E,d(i){i&&M(t),n=!1,r()}}}function Qr(e){let t,n,r;return{c(){t=y("button"),t.textContent="Continue"},m(i,s){N(i,t,s),n||(r=x(t,"click",me),n=!0)},p:E,d(i){i&&M(t),n=!1,r()}}}function Zr(e){let t,n,r,i,s,u,o,c,l,f,d,a,_;i=new Pr({}),o=new Wr({});function p(v,w){if(v[1])return Qr;if(v[0])return Gr;if(v[2])return Yr}let h=p(e),m=h&&h(e);return{c(){t=y("div"),n=y("div"),r=y("div"),F(i.$$.fragment),s=T(),u=y("div"),F(o.$$.fragment),c=T(),l=y("div"),m&&m.c(),b(r,"class","row imgs svelte-j2ojq6"),b(u,"class","row info svelte-j2ojq6"),b(n,"class","view field svelte-j2ojq6"),b(l,"class","ctrls")},m(v,w){N(v,t,w),g(t,n),g(n,r),P(i,r,null),g(n,s),g(n,u),P(o,u,null),g(t,c),g(t,l),m&&m.m(l,null),d=!0,a||(_=St(e[4].call(null,n)),a=!0)},p(v,[w]){h===(h=p(v))&&m?m.p(v,w):(m&&m.d(1),m=h&&h(v),m&&(m.c(),m.m(l,null)))},i(v){d||(A(i.$$.fragment,v),A(o.$$.fragment,v),B(()=>{f||(f=rt(t,it,{},!0)),f.run(1)}),d=!0)},o(v){O(i.$$.fragment,v),O(o.$$.fragment,v),f||(f=rt(t,it,{},!1)),f.run(0),d=!1},d(v){v&&M(t),L(i),L(o),m&&m.d(),v&&f&&f.end(),a=!1,_()}}}function Vr(e,t,n){let r,i;H(e,Ct,m=>n(5,r=m)),H(e,Z,m=>n(6,i=m));function s(){n(0,_=!1),c(i.str),r.hp<=0?f():u()}function u(){Dt(z(400,600),()=>{o(r.str),i.hp<=0?d():n(0,_=!0)})}function o(m){let v=l(m);ee(Z,i.hp-=v,i),$t.show(`${v}`,"user")}function c(m){let v=l(m);ee(Ct,r.hp-=v,r),$t.show(`${v}`,"enc")}function l(m){let v=Math.ceil(Math.abs(m*.1));return z(m+v,m-v)}function f(){Dt(re,()=>{$t.persist("Victory!"),n(1,p=!0)})}function d(){Dt(re,()=>{$t.persist("Game over"),n(2,h=!0)})}function a(m){Ir(),n(0,_=!1),n(1,p=!1),n(2,h=!1),setTimeout(()=>{n(0,_=!0)},500)}let _,p,h;return[_,p,h,s,a]}class Jr extends G{constructor(t){super(),Y(this,t,Vr,Zr,X,{})}}function ti(e){let t,n;return t=new Jr({}),{c(){F(t.$$.fragment)},m(r,i){P(t,r,i),n=!0},i(r){n||(A(t.$$.fragment,r),n=!0)},o(r){O(t.$$.fragment,r),n=!1},d(r){L(t,r)}}}function ei(e){let t,n;return t=new hr({}),{c(){F(t.$$.fragment)},m(r,i){P(t,r,i),n=!0},i(r){n||(A(t.$$.fragment,r),n=!0)},o(r){O(t.$$.fragment,r),n=!1},d(r){L(t,r)}}}function ni(e){let t,n;return t=new pr({}),{c(){F(t.$$.fragment)},m(r,i){P(t,r,i),n=!0},i(r){n||(A(t.$$.fragment,r),n=!0)},o(r){O(t.$$.fragment,r),n=!1},d(r){L(t,r)}}}function ri(e){let t,n;return t=new Yn({}),{c(){F(t.$$.fragment)},m(r,i){P(t,r,i),n=!0},i(r){n||(A(t.$$.fragment,r),n=!0)},o(r){O(t.$$.fragment,r),n=!1},d(r){L(t,r)}}}function ii(e){let t,n,r,i,s,u,o,c;n=new ce({});const l=[ri,ni,ei,ti],f=[];function d(a,_){return a[0]==J.TITLE?0:a[0]==J.MAP?1:a[0]==J.MENU?2:a[0]==J.ENC?3:-1}return~(i=d(e))&&(s=f[i]=l[i](e)),{c(){t=y("main"),F(n.$$.fragment),r=T(),s&&s.c()},m(a,_){N(a,t,_),P(n,t,null),g(t,r),~i&&f[i].m(t,null),u=!0,o||(c=St(e[1].call(null,t)),o=!0)},p(a,[_]){let p=i;i=d(a),i!==p&&(s&&(_t(),O(f[p],1,1,()=>{f[p]=null}),mt()),~i?(s=f[i],s||(s=f[i]=l[i](a),s.c()),A(s,1),s.m(t,null)):s=null)},i(a){u||(A(n.$$.fragment,a),A(s),u=!0)},o(a){O(n.$$.fragment,a),O(s),u=!1},d(a){a&&M(t),L(n),~i&&f[i].d(),o=!1,c()}}}function si(e,t,n){function r(s){Rt.subscribe(u=>{n(0,i=void 0),$t.clear(),Dt(Qe,()=>{n(0,i=u)})})}let i;return[i,r]}class oi extends G{constructor(t){super(),Y(this,t,si,ii,X,{})}}new oi({target:document.getElementById("app")});
