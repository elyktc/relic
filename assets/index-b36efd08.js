var Nl=Object.defineProperty;var xl=(e,t,n)=>t in e?Nl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Gt=(e,t,n)=>(xl(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))l(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&l(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function j(){}const Tt=e=>e;function sn(e,t){for(const n in t)e[n]=t[n];return e}function rl(e){return e()}function Bn(){return Object.create(null)}function Z(e){e.forEach(rl)}function Yt(e){return typeof e=="function"}function Q(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Rl(e){return Object.keys(e).length===0}function ol(e,...t){if(e==null)return j;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function P(e){let t;return ol(e,n=>t=n)(),t}function Y(e,t,n){e.$$.on_destroy.push(ol(t,n))}function Re(e){return e??""}function Dt(e,t,n){return e.set(n),t}const cl=typeof window<"u";let ne=cl?()=>window.performance.now():()=>Date.now(),hn=cl?e=>requestAnimationFrame(e):j;const Ut=new Set;function ul(e){Ut.forEach(t=>{t.c(e)||(Ut.delete(t),t.f())}),Ut.size!==0&&hn(ul)}function le(e){let t;return Ut.size===0&&hn(ul),{promise:new Promise(n=>{Ut.add(t={c:e,f:n})}),abort(){Ut.delete(t)}}}function d(e,t){e.appendChild(t)}function fl(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function Al(e){const t=h("style");return Ll(fl(e),t),t.sheet}function Ll(e,t){return d(e.head||e,t),t.sheet}function I(e,t,n){e.insertBefore(t,n||null)}function S(e){e.parentNode&&e.parentNode.removeChild(e)}function h(e){return document.createElement(e)}function Ol(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function U(e){return document.createTextNode(e)}function M(){return U(" ")}function al(){return U("")}function R(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function g(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Pl(e){return Array.from(e.childNodes)}function st(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function pt(e,t,n,l){n===null?e.style.removeProperty(t):e.style.setProperty(t,n,l?"important":"")}function rt(e,t,n){e.classList[n?"add":"remove"](t)}function dl(e,t,{bubbles:n=!1,cancelable:l=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(e,n,l,t),i}class Ul{constructor(t=!1){this.is_svg=!1,this.is_svg=t,this.e=this.n=null}c(t){this.h(t)}m(t,n,l=null){this.e||(this.is_svg?this.e=Ol(n.nodeName):this.e=h(n.nodeName),this.t=n,this.c(t)),this.i(l)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let n=0;n<this.n.length;n+=1)I(this.t,this.n[n],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(S)}}function Yn(e,t){return new e(t)}const Ae=new Map;let Le=0;function Dl(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function Fl(e,t){const n={stylesheet:Al(t),rules:{}};return Ae.set(e,n),n}function Qt(e,t,n,l,i,s,o,r=0){const u=16.666/l;let c=`{
`;for(let y=0;y<=1;y+=u){const w=t+(n-t)*s(y);c+=y*100+`%{${o(w,1-w)}}
`}const f=c+`100% {${o(n,1-n)}}
}`,p=`__svelte_${Dl(f)}_${r}`,a=fl(e),{stylesheet:_,rules:m}=Ae.get(a)||Fl(a,e);m[p]||(m[p]=!0,_.insertRule(`@keyframes ${p} ${f}`,_.cssRules.length));const b=e.style.animation||"";return e.style.animation=`${b?`${b}, `:""}${p} ${l}ms linear ${i}ms 1 both`,Le+=1,p}function Zt(e,t){const n=(e.style.animation||"").split(", "),l=n.filter(t?s=>s.indexOf(t)<0:s=>s.indexOf("__svelte")===-1),i=n.length-l.length;i&&(e.style.animation=l.join(", "),Le-=i,Le||ql())}function ql(){hn(()=>{Le||(Ae.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&S(t)}),Ae.clear())})}function Hl(e,t,n,l){if(!t)return j;const i=e.getBoundingClientRect();if(t.left===i.left&&t.right===i.right&&t.top===i.top&&t.bottom===i.bottom)return j;const{delay:s=0,duration:o=300,easing:r=Tt,start:u=ne()+s,end:c=u+o,tick:f=j,css:p}=n(e,{from:t,to:i},l);let a=!0,_=!1,m;function b(){p&&(m=Qt(e,0,1,o,s,r,p)),s||(_=!0)}function y(){p&&Zt(e,m),a=!1}return le(w=>{if(!_&&w>=u&&(_=!0),_&&w>=c&&(f(1,0),y()),!a)return!1;if(_){const $=w-u,v=0+1*r($/o);f(v,1-v)}return!0}),b(),f(0,1),y}function Bl(e){const t=getComputedStyle(e);if(t.position!=="absolute"&&t.position!=="fixed"){const{width:n,height:l}=t,i=e.getBoundingClientRect();e.style.position="absolute",e.style.width=n,e.style.height=l,pl(e,i)}}function pl(e,t){const n=e.getBoundingClientRect();if(t.left!==n.left||t.top!==n.top){const l=getComputedStyle(e),i=l.transform==="none"?"":l.transform;e.style.transform=`${i} translate(${t.left-n.left}px, ${t.top-n.top}px)`}}let te;function zt(e){te=e}function mn(){if(!te)throw new Error("Function called outside component initialization");return te}function Mt(e){mn().$$.on_mount.push(e)}function _l(e){mn().$$.on_destroy.push(e)}function hl(){const e=mn();return(t,n,{cancelable:l=!1}={})=>{const i=e.$$.callbacks[t];if(i){const s=dl(t,n,{cancelable:l});return i.slice().forEach(o=>{o.call(e,s)}),!s.defaultPrevented}return!0}}const Vt=[],rn=[],Te=[],Kn=[],Yl=Promise.resolve();let on=!1;function Kl(){on||(on=!0,Yl.then(ml))}function J(e){Te.push(e)}const nn=new Set;let Ce=0;function ml(){const e=te;do{for(;Ce<Vt.length;){const t=Vt[Ce];Ce++,zt(t),Gl(t.$$)}for(zt(null),Vt.length=0,Ce=0;rn.length;)rn.pop()();for(let t=0;t<Te.length;t+=1){const n=Te[t];nn.has(n)||(nn.add(n),n())}Te.length=0}while(Vt.length);for(;Kn.length;)Kn.pop()();on=!1,nn.clear(),zt(e)}function Gl(e){if(e.fragment!==null){e.update(),Z(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(J)}}let Xt;function vn(){return Xt||(Xt=Promise.resolve(),Xt.then(()=>{Xt=null})),Xt}function St(e,t,n){e.dispatchEvent(dl(`${t?"intro":"outro"}${n}`))}const Ie=new Set;let _t;function ht(){_t={r:0,c:[],p:_t}}function mt(){_t.r||Z(_t.c),_t=_t.p}function T(e,t){e&&e.i&&(Ie.delete(e),e.i(t))}function N(e,t,n,l){if(e&&e.o){if(Ie.has(e))return;Ie.add(e),_t.c.push(()=>{Ie.delete(e),l&&(n&&e.d(1),l())}),e.o(t)}else l&&l()}const gn={duration:0};function bn(e,t,n){const l={direction:"in"};let i=t(e,n,l),s=!1,o,r,u=0;function c(){o&&Zt(e,o)}function f(){const{delay:a=0,duration:_=300,easing:m=Tt,tick:b=j,css:y}=i||gn;y&&(o=Qt(e,0,1,_,a,m,y,u++)),b(0,1);const w=ne()+a,$=w+_;r&&r.abort(),s=!0,J(()=>St(e,!0,"start")),r=le(v=>{if(s){if(v>=$)return b(1,0),St(e,!0,"end"),c(),s=!1;if(v>=w){const k=m((v-w)/_);b(k,1-k)}}return s})}let p=!1;return{start(){p||(p=!0,Zt(e),Yt(i)?(i=i(l),vn().then(f)):f())},invalidate(){p=!1},end(){s&&(c(),s=!1)}}}function ie(e,t,n){const l={direction:"out"};let i=t(e,n,l),s=!0,o;const r=_t;r.r+=1;function u(){const{delay:c=0,duration:f=300,easing:p=Tt,tick:a=j,css:_}=i||gn;_&&(o=Qt(e,1,0,f,c,p,_));const m=ne()+c,b=m+f;J(()=>St(e,!1,"start")),le(y=>{if(s){if(y>=b)return a(0,1),St(e,!1,"end"),--r.r||Z(r.c),!1;if(y>=m){const w=p((y-m)/f);a(1-w,w)}}return s})}return Yt(i)?vn().then(()=>{i=i(l),u()}):u(),{end(c){c&&i.tick&&i.tick(1,0),s&&(o&&Zt(e,o),s=!1)}}}function ot(e,t,n,l){const i={direction:"both"};let s=t(e,n,i),o=l?0:1,r=null,u=null,c=null;function f(){c&&Zt(e,c)}function p(_,m){const b=_.b-o;return m*=Math.abs(b),{a:o,b:_.b,d:b,duration:m,start:_.start,end:_.start+m,group:_.group}}function a(_){const{delay:m=0,duration:b=300,easing:y=Tt,tick:w=j,css:$}=s||gn,v={start:ne()+m,b:_};_||(v.group=_t,_t.r+=1),r||u?u=v:($&&(f(),c=Qt(e,o,_,b,m,y,$)),_&&w(0,1),r=p(v,b),J(()=>St(e,_,"start")),le(k=>{if(u&&k>u.start&&(r=p(u,b),u=null,St(e,r.b,"start"),$&&(f(),c=Qt(e,o,r.b,r.duration,0,y,s.css))),r){if(k>=r.end)w(o=r.b,1-o),St(e,r.b,"end"),u||(r.b?f():--r.group.r||Z(r.group.c)),r=null;else if(k>=r.start){const E=k-r.start;o=r.a+r.d*y(E/r.duration),w(o,1-o)}}return!!(r||u)}))}return{run(_){Yt(s)?vn().then(()=>{s=s(i),a(_)}):a(_)},end(){f(),r=u=null}}}function Xl(e,t){N(e,1,1,()=>{t.delete(e.key)})}function Wl(e,t){e.f(),Xl(e,t)}function Vl(e,t,n,l,i,s,o,r,u,c,f,p){let a=e.length,_=s.length,m=a;const b={};for(;m--;)b[e[m].key]=m;const y=[],w=new Map,$=new Map;for(m=_;m--;){const C=p(i,s,m),L=n(C);let x=o.get(L);x?l&&x.p(C,t):(x=c(L,C),x.c()),w.set(L,y[m]=x),L in b&&$.set(L,Math.abs(m-b[L]))}const v=new Set,k=new Set;function E(C){T(C,1),C.m(r,f),o.set(C.key,C),f=C.first,_--}for(;a&&_;){const C=y[_-1],L=e[a-1],x=C.key,nt=L.key;C===L?(f=C.first,a--,_--):w.has(nt)?!o.has(x)||v.has(x)?E(C):k.has(nt)?a--:$.get(x)>$.get(nt)?(k.add(x),E(C)):(v.add(nt),a--):(u(L,o),a--)}for(;a--;){const C=e[a];w.has(C.key)||u(C,o)}for(;_;)E(y[_-1]);return y}function zl(e,t){const n={},l={},i={$$scope:1};let s=e.length;for(;s--;){const o=e[s],r=t[s];if(r){for(const u in o)u in r||(l[u]=1);for(const u in r)i[u]||(n[u]=r[u],i[u]=1);e[s]=r}else for(const u in o)i[u]=1}for(const o in l)o in n||(n[o]=void 0);return n}function Jl(e){return typeof e=="object"&&e!==null?e:{}}function G(e){e&&e.c()}function F(e,t,n,l){const{fragment:i,after_update:s}=e.$$;i&&i.m(t,n),l||J(()=>{const o=e.$$.on_mount.map(rl).filter(Yt);e.$$.on_destroy?e.$$.on_destroy.push(...o):Z(o),e.$$.on_mount=[]}),s.forEach(J)}function q(e,t){const n=e.$$;n.fragment!==null&&(Z(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Ql(e,t){e.$$.dirty[0]===-1&&(Vt.push(e),Kl(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function tt(e,t,n,l,i,s,o,r=[-1]){const u=te;zt(e);const c=e.$$={fragment:null,ctx:[],props:s,update:j,not_equal:i,bound:Bn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:Bn(),dirty:r,skip_bound:!1,root:t.target||u.$$.root};o&&o(c.root);let f=!1;if(c.ctx=n?n(e,t.props||{},(p,a,..._)=>{const m=_.length?_[0]:a;return c.ctx&&i(c.ctx[p],c.ctx[p]=m)&&(!c.skip_bound&&c.bound[p]&&c.bound[p](m),f&&Ql(e,p)),a}):[],c.update(),f=!0,Z(c.before_update),c.fragment=l?l(c.ctx):!1,t.target){if(t.hydrate){const p=Pl(t.target);c.fragment&&c.fragment.l(p),p.forEach(S)}else c.fragment&&c.fragment.c();t.intro&&T(e.$$.fragment),F(e,t.target,t.anchor,t.customElement),ml()}zt(u)}class et{$destroy(){q(this,1),this.$destroy=j}$on(t,n){if(!Yt(n))return j;const l=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return l.push(n),()=>{const i=l.indexOf(n);i!==-1&&l.splice(i,1)}}$set(t){this.$$set&&!Rl(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Ue=10,Zl=80,ti=6,ei=6,vl=20,gl=2,ni=2,bl=50,Gn=200,cn=500,un=200,kl=1,li=1e3,ii=1,si=7,ri=9,oi=3,ci=2,ln=200,Xn=10,yl=200,ui=.1,fi=5,ai=50,Jt="enc",De="user",Ot=[];function ut(e,t=j){let n;const l=new Set;function i(r){if(Q(e,r)&&(e=r,n)){const u=!Ot.length;for(const c of l)c[1](),Ot.push(c,e);if(u){for(let c=0;c<Ot.length;c+=2)Ot[c][0](Ot[c+1]);Ot.length=0}}}function s(r){i(r(e))}function o(r,u=j){const c=[r,u];return l.add(c),l.size===1&&(n=t(i)||j),r(e),()=>{l.delete(c),l.size===0&&(n(),n=null)}}return{set:i,update:s,subscribe:o}}function D(e,t){return e??(e=0),t??(t=0),Math.floor(Math.random()*(e-t+1))+t}function yt(e,t){setTimeout(t,e)}function wt(e,t){t??(t=ui);let n=Math.ceil(Math.abs(e*t));return D(e+n,e-n)}function Pt(e){return new Intl.NumberFormat().format(e)}function Et(e){e.set(P(e)+1)}function di(e){return e<.5?4*e*e*e:.5*Math.pow(2*e-2,3)+1}function Oe(e){const t=e-1;return t*t*t+1}function pi(e,{delay:t=0,duration:n=400,easing:l=di,amount:i=5,opacity:s=0}={}){const o=getComputedStyle(e),r=+o.opacity,u=o.filter==="none"?"":o.filter,c=r*(1-s);return{delay:t,duration:n,easing:l,css:(f,p)=>`opacity: ${r-c*p}; filter: ${u} blur(${p*i}px);`}}function Fe(e,{delay:t=0,duration:n=400,easing:l=Tt}={}){const i=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:l,css:s=>`opacity: ${s*i}`}}function qe(e,{delay:t=0,duration:n=400,easing:l=Oe,x:i=0,y:s=0,opacity:o=0}={}){const r=getComputedStyle(e),u=+r.opacity,c=r.transform==="none"?"":r.transform,f=u*(1-o);return{delay:t,duration:n,easing:l,css:(p,a)=>`
			transform: ${c} translate(${(1-p)*i}px, ${(1-p)*s}px);
			opacity: ${u-f*a}`}}const it={TITLE:0,MAP:1,MENU:2,ENC:3,CITY:4,SLEEP:5},It=ut(it.TITLE);function bt(){It.set(it.MAP)}function $l(){It.set(it.MENU)}function _i(){It.set(it.ENC)}function kn(){It.set(it.TITLE)}function hi(){It.set(it.CITY)}function mi(){It.set(it.SLEEP)}function ct(e){return Fe(e,{duration:yl})}class He{constructor(t,n,l,i,s,o,r){Gt(this,"evading",()=>this.status.evading);Gt(this,"fleeing",()=>this.status.fleeing);Gt(this,"ko",()=>this.hp<=0);this.name=t,this.lvl=n,this.hpbase=l,this.strbase=i,this.dexbase=s,this.hp=l,this.str=i,this.dex=s,this.xp=o,this.gp=r,this.status={evading:!1,fleeing:!1}}}function se(e,t,n){e??(e=10),t??(t=1),n??(n=1);let l=Math.round(e*t/(t+n)),i=Math.round(e*n/(t+n)),s=Math.min(Math.max(l-i,0),l-1),o=Math.min(Math.max(i-l,0),i-1),r=D(l,s);e-=r;let u=D(i,o);return e-=u,{hp:Math.max(e,0),str:r,dex:u}}let Se;const vi=new Uint8Array(16);function gi(){if(!Se&&(Se=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Se))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Se(vi)}const B=[];for(let e=0;e<256;++e)B.push((e+256).toString(16).slice(1));function bi(e,t=0){return(B[e[t+0]]+B[e[t+1]]+B[e[t+2]]+B[e[t+3]]+"-"+B[e[t+4]]+B[e[t+5]]+"-"+B[e[t+6]]+B[e[t+7]]+"-"+B[e[t+8]]+B[e[t+9]]+"-"+B[e[t+10]]+B[e[t+11]]+B[e[t+12]]+B[e[t+13]]+B[e[t+14]]+B[e[t+15]]).toLowerCase()}const ki=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Wn={randomUUID:ki};function yi(e,t,n){if(Wn.randomUUID&&!t&&!e)return Wn.randomUUID();e=e||{};const l=e.random||(e.rng||gi)();if(l[6]=l[6]&15|64,l[8]=l[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=l[i];return t}return bi(l)}function $i(){let e="user",t=1;var n=se();let l=n.hp+Zl,i=n.str+ti,s=n.dex+ei,o=0,r=0;return new He(e,t,l,i,s,r,o)}function yn(e){return e??(e=P(A)),Math.pow(e.lvl,3)+e.lvl*200-1}function wi(){let e=P(A),t=P(Pe),n=P(Ft);for(;e.xp>yn(e);){e.lvl++;let l=Math.round(Ue/2),i=se(l,t,n);e.hpbase+=i.hp+l,e.strbase=Math.max(e.strbase+i.str,1),e.dexbase=Math.max(e.dexbase+i.dex,1),t=void 0,n=void 0}e.hp=e.hpbase,e.str=e.strbase,e.dex=e.dexbase,A.set(e),Pe.set(0),Ft.set(0)}function Ei(){let e=$i();console.log(JSON.stringify(e)),A.set(e),Pe.set(0),Ft.set(0),wl.set(0)}const Pe=ut(0),Ft=ut(0),wl=ut(0),A=ut();let O,V,z,Be,Ye,qt=!0,$n=ri,Vn=oi,fn=0,wn=0;const Mi="u",En="f",je="p",Mn="t",El="w",Ne="c";function Ml(e,t,n){e=Math.max(e,1),O=qt?[]:O??[];let l=t??Math.floor(e/2),i=n??Math.floor(e/2);V=l,z=i,qt&&(Be=V,Ye=z,fn=0,wn=0),an(l,i,dt.CITY);for(let s=1;s<e;s++){let o=s%2==0?s:-s;l+=o,i+=o,an(l,i)}O=Cl(!0,e,t,n)}function Ci(e,t,n,l){if(!e)return e;l??(l=$n);let i=Math.floor(l/2);t??(t=i),n??(n=i);let s=[];for(let o=0;o<l;o++)for(let r=0;r<l;r++){let u=t-i+o,c=n-i+r,f=(e[u]&&e[u][c])??En;s[o]??(s[o]=[]),s[o][r]=f}return s[i][i]=Mi,s}function Si(){let e=Tl();if(V<e&&(O.splice(0,0,[]),Be++,V=e),z<e){let t=Il();for(let n=0;n<t;n++)O[n].splice(0,0,void 0);Ye++,z=e}}function Ti(e){return[...e.map(t=>[...t])]}function Cl(e,t,n,l){var p;if(!O)return O;t=t??$n,n=n??V,l=l??z;let i=Ti(O),s=Il(),o=Ii(),r=Math.min(t??s,s),u=Math.min(t??o,o),c=Math.max((n??0)-Math.floor(r/2),0),f=Math.max((l??0)-Math.floor(u/2),0);for(let a=0;a<r;a++)for(let _=0;_<u;_++){let m=c+a,b=f+_;i[m]??(i[m]=[]);let y=e?Ke(m,b):En;(p=i[m])[b]??(p[b]=y)}return i}function an(e,t,n){var l;return e??(e=V),t??(t=z),O??(O=[]),O[e]??(O[e]=[]),(l=O[e])[t]??(l[t]=n??Ke(e,t)),n}function Ke(e,t){if(e??(e=V),t??(t=z),O&&O[e]&&O[e][t])return O[e][t];let n,l=D(ln*2,ln);if(l<fn++&&l%ln==0)n=Ne,fn=0;else{let i=Sl(e,t);i=i.filter(o=>o!==Ne);let s=D(i.length+1);if(s>=i.length){let o=[je,Mn];s=D(o.length+ci),n=s>=o.length?je:o[s]}else n=i[s]}return qt&&(n==Ne||n==El)&&(n=je),qt||wn++,n}function Sl(e,t){e??(e=V),t??(t=z);let n=[];for(let l=e-1;l<=e+1;l++)for(let i=t-1;i<=t+1;i++)O[l]&&O[l][i]&&O[l][i]&&n.push(O[l][i]);return n}function Tl(){return Ke()==Mn?Math.floor(Vn/2):Vn}function Il(e){return e??(e=O??[]),e.length}function Ii(e){e??(e=O??[]);let t=e.map(n=>n.length).sort((n,l)=>n-l);return t[t.length-1]}function ji(e){if(V+=e.x,z+=e.y,Si(),an()==El)return V-=e.x,z-=e.y,!1;{let n=Tl();n>0&&Ml(n*2+1,V,z)}return!0}function Ni(){let e=Cl(!1);return Ci(e,V,z,$n)}function xi(){let e=Math.abs(V-Be),t=Math.abs(z-Ye);return Math.ceil(Math.hypot(e,t))}function Ri(){return wn}function Ai(){return{x:V,y:z,abs:{x:V-Be,y:z-Ye},terrain:Ke(),nearby:Sl(),distance:xi()}}function Li(){qt=!0,Ml(si),qt=!1}const dt={FOG:En,PLAIN:je,FOREST:Mn,CITY:Ne},ee=ut(0),gt={miniMap:Ni,location:Ai,move:ji,getExplored:Ri};function Oi(e){let t,n,l,i,s,o,r,u,c,f,p,a;return{c(){t=h("div"),n=h("div"),l=h("h1"),l.textContent="Relic",i=M(),s=h("p"),s.textContent="by elyktc",o=M(),r=h("div"),u=h("button"),u.textContent="Start",g(l,"class","svelte-19wnq64"),pt(l,"margin-right","50px"),pt(s,"margin-left","100px"),g(n,"class","view col svelte-19wnq64"),g(r,"class","ctrls")},m(_,m){I(_,t,m),d(t,n),d(n,l),d(n,i),d(n,s),d(t,o),d(t,r),d(r,u),f=!0,p||(a=[R(window,"keydown",e[0]),R(u,"click",bt)],p=!0)},p:j,i(_){f||(J(()=>{c||(c=ot(t,ct,{},!0)),c.run(1)}),f=!0)},o(_){c||(c=ot(t,ct,{},!1)),c.run(0),f=!1},d(_){_&&S(t),_&&c&&c.end(),p=!1,Z(a)}}}function Pi(e,t,n){let l;Y(e,ee,s=>n(1,l=s));function i(s){switch(s.key){case" ":bt();break}}return Mt(()=>{Ei(),Dt(ee,l=0,l)}),[i]}class Ui extends et{constructor(t){super(),tt(this,t,Pi,Oi,Q,{})}}function Di(e){let t,n,l,i,s,o,r,u,c,f,p,a,_,m,b,y,w,$,v,k,E,C,L;return{c(){t=h("div"),n=h("div"),l=h("button"),l.textContent="NW",i=M(),s=h("button"),s.textContent="N",o=M(),r=h("button"),r.textContent="NE",u=M(),c=h("div"),f=h("button"),f.textContent="W",p=M(),a=h("button"),a.textContent="Menu",_=M(),m=h("button"),m.textContent="E",b=M(),y=h("div"),w=h("button"),w.textContent="SW",$=M(),v=h("button"),v.textContent="S",k=M(),E=h("button"),E.textContent="SE",g(t,"class","ctrls")},m(x,nt){I(x,t,nt),d(t,n),d(n,l),d(n,i),d(n,s),d(n,o),d(n,r),d(t,u),d(t,c),d(c,f),d(c,p),d(c,a),d(c,_),d(c,m),d(t,b),d(t,y),d(y,w),d(y,$),d(y,v),d(y,k),d(y,E),C||(L=[R(window,"keydown",e[8]),R(l,"click",e[0]),R(s,"click",e[1]),R(r,"click",e[2]),R(f,"click",e[3]),R(a,"click",$l),R(m,"click",e[4]),R(w,"click",e[5]),R(v,"click",e[6]),R(E,"click",e[7])],C=!0)},p:j,i:j,o:j,d(x){x&&S(t),C=!1,Z(L)}}}function Fi(e){const t=hl(),n=()=>t("move",{x:-1,y:-1}),l=()=>t("move",{x:-1,y:0}),i=()=>t("move",{x:-1,y:1}),s=()=>t("move",{x:0,y:-1}),o=()=>t("move",{x:0,y:1}),r=()=>t("move",{x:1,y:-1}),u=()=>t("move",{x:1,y:0}),c=()=>t("move",{x:1,y:1});function f(p){switch(p.key){case"x":$l();break;case"q":n();break;case"w":l();break;case"e":i();break;case"a":s();break;case"d":o();break;case"z":r();break;case"s":u();break;case"c":c();break}}return[n,l,i,s,o,r,u,c,f]}class qi extends et{constructor(t){super(),tt(this,t,Fi,Di,Q,{})}}let xe=new Map;function Hi(e,t){this.name=e,this.innCost=t}function Bi(){let e=yi().substring(0,8),t=D(fi,ai);return new Hi(e,t)}function Yi(e,t){let n=`${e}.${t}`;return xe.has(n)||xe.set(n,Bi()),xe.get(n)}function Ki(){xe.clear()}function Gi(e){let t,n,l,i,s,o;return i=new qi({}),i.$on("move",e[2]),{c(){t=h("div"),n=h("div"),l=M(),G(i.$$.fragment),g(n,"class","view field svelte-z27jc")},m(r,u){I(r,t,u),d(t,n),n.innerHTML=e[0],d(t,l),F(i,t,null),o=!0},p(r,[u]){(!o||u&1)&&(n.innerHTML=r[0])},i(r){o||(T(i.$$.fragment,r),J(()=>{s||(s=ot(t,ct,{},!0)),s.run(1)}),o=!0)},o(r){N(i.$$.fragment,r),s||(s=ot(t,ct,{},!1)),s.run(0),o=!1},d(r){r&&S(t),q(i),r&&s&&s.end()}}}function Xi(e,t,n){let l;Y(e,ee,c=>n(3,l=c));function i(c){let f=a=>a.map(_=>`<div class="icon map-${_}"></div>`),p=c.map(a=>f(a).join(""));n(0,r=`<div class="row">${p.join('</div><div class="row">')}</div>`)}function s(){return gt.location().terrain==dt.FOREST?Math.ceil(Xn/2):Xn}function o(c){gt.move(c)&&(Dt(ee,l++,l),i(gt.miniMap()),gt.location().terrain==dt.CITY?hi():D(s())==1&&_i())}Mt(()=>{l||(Li(),Ki()),i(gt.miniMap())});let r="";return[r,o,c=>o(c.detail)]}let Wi=class extends et{constructor(t){super(),tt(this,t,Xi,Gi,Q,{})}};function Vi(e){let t,n,l,i=e[0].name+"",s,o,r,u,c,f,p=e[0].lvl+"",a,_,m,b,y,w,$=e[0].xp+"",v,k,E,C,L,x,nt,vt,W,re,H,oe=e[0].hp+"",Ve,Sn,ce=e[0].hpbase+"",ze,Tn,jt,ue,In,fe,ae=e[0].str+"",Je,jn,Nt,de,Nn,pe,_e=e[0].dex+"",Qe,xn,Ct,he,Rn,me,ve=Pt(e[0].gp)+"",Ze,An,xt,ge,Ln,be,ke=Pt(e[1])+"",tn,On,Rt,ye,Pn,$e,Un,At,we,Dn,Ee,Fn,Lt,Kt,qn,Me,kt,lt,en,Hn;return{c(){t=h("div"),n=h("div"),l=h("h1"),s=U(i),o=M(),r=h("div"),u=h("div"),u.textContent="Level",c=M(),f=h("div"),a=U(p),_=M(),m=h("div"),b=h("div"),b.textContent="Experience",y=M(),w=h("div"),v=U($),k=M(),E=h("div"),C=h("div"),C.textContent="Next level at",L=M(),x=h("div"),x.textContent=`${yn()}`,nt=M(),vt=h("div"),W=h("div"),W.textContent="Health",re=M(),H=h("div"),Ve=U(oe),Sn=U(" / "),ze=U(ce),Tn=M(),jt=h("div"),ue=h("div"),ue.textContent="Strength",In=M(),fe=h("div"),Je=U(ae),jn=M(),Nt=h("div"),de=h("div"),de.textContent="Dexterity",Nn=M(),pe=h("div"),Qe=U(_e),xn=M(),Ct=h("div"),he=h("div"),he.textContent="Gold",Rn=M(),me=h("div"),Ze=U(ve),An=M(),xt=h("div"),ge=h("div"),ge.textContent="Steps",Ln=M(),be=h("div"),tn=U(ke),On=M(),Rt=h("div"),ye=h("div"),ye.textContent="Explored",Pn=M(),$e=h("div"),$e.textContent=`${Pt(gt.getExplored())}`,Un=M(),At=h("div"),we=h("div"),we.textContent="Distance traveled",Dn=M(),Ee=h("div"),Ee.textContent=`${Pt(gt.location().distance)}`,Fn=M(),Lt=h("div"),Kt=h("button"),Kt.textContent="Reset",qn=M(),Me=h("button"),Me.textContent="Back",pt(l,"display","none"),g(u,"class","col label svelte-hfjk0k"),g(f,"class","col value svelte-hfjk0k"),g(r,"class","row svelte-hfjk0k"),g(b,"class","col label svelte-hfjk0k"),g(w,"class","col value svelte-hfjk0k"),g(m,"class","row svelte-hfjk0k"),g(C,"class","col label svelte-hfjk0k"),g(x,"class","col value svelte-hfjk0k"),g(E,"class","row svelte-hfjk0k"),g(W,"class","col label svelte-hfjk0k"),g(H,"class","col value svelte-hfjk0k"),g(vt,"class","row svelte-hfjk0k"),pt(vt,"margin-top","20px"),g(ue,"class","col label svelte-hfjk0k"),g(fe,"class","col value svelte-hfjk0k"),g(jt,"class","row svelte-hfjk0k"),g(de,"class","col label svelte-hfjk0k"),g(pe,"class","col value svelte-hfjk0k"),g(Nt,"class","row svelte-hfjk0k"),g(he,"class","col label svelte-hfjk0k"),g(me,"class","col value svelte-hfjk0k"),g(Ct,"class","row svelte-hfjk0k"),pt(Ct,"margin","10px 0"),g(ge,"class","col label svelte-hfjk0k"),g(be,"class","col value svelte-hfjk0k"),g(xt,"class","row svelte-hfjk0k"),g(ye,"class","col label svelte-hfjk0k"),g($e,"class","col value svelte-hfjk0k"),g(Rt,"class","row svelte-hfjk0k"),g(we,"class","col label svelte-hfjk0k"),g(Ee,"class","col value svelte-hfjk0k"),g(At,"class","row svelte-hfjk0k"),g(n,"class","view col svelte-hfjk0k"),g(Kt,"class","danger svelte-hfjk0k"),g(Lt,"class","ctrls")},m(X,ft){I(X,t,ft),d(t,n),d(n,l),d(l,s),d(n,o),d(n,r),d(r,u),d(r,c),d(r,f),d(f,a),d(n,_),d(n,m),d(m,b),d(m,y),d(m,w),d(w,v),d(n,k),d(n,E),d(E,C),d(E,L),d(E,x),d(n,nt),d(n,vt),d(vt,W),d(vt,re),d(vt,H),d(H,Ve),d(H,Sn),d(H,ze),d(n,Tn),d(n,jt),d(jt,ue),d(jt,In),d(jt,fe),d(fe,Je),d(n,jn),d(n,Nt),d(Nt,de),d(Nt,Nn),d(Nt,pe),d(pe,Qe),d(n,xn),d(n,Ct),d(Ct,he),d(Ct,Rn),d(Ct,me),d(me,Ze),d(n,An),d(n,xt),d(xt,ge),d(xt,Ln),d(xt,be),d(be,tn),d(n,On),d(n,Rt),d(Rt,ye),d(Rt,Pn),d(Rt,$e),d(n,Un),d(n,At),d(At,we),d(At,Dn),d(At,Ee),d(t,Fn),d(t,Lt),d(Lt,Kt),d(Lt,qn),d(Lt,Me),lt=!0,en||(Hn=[R(window,"keydown",e[2]),R(Kt,"click",kn),R(Me,"click",bt)],en=!0)},p(X,[ft]){(!lt||ft&1)&&i!==(i=X[0].name+"")&&st(s,i),(!lt||ft&1)&&p!==(p=X[0].lvl+"")&&st(a,p),(!lt||ft&1)&&$!==($=X[0].xp+"")&&st(v,$),(!lt||ft&1)&&oe!==(oe=X[0].hp+"")&&st(Ve,oe),(!lt||ft&1)&&ce!==(ce=X[0].hpbase+"")&&st(ze,ce),(!lt||ft&1)&&ae!==(ae=X[0].str+"")&&st(Je,ae),(!lt||ft&1)&&_e!==(_e=X[0].dex+"")&&st(Qe,_e),(!lt||ft&1)&&ve!==(ve=Pt(X[0].gp)+"")&&st(Ze,ve),(!lt||ft&2)&&ke!==(ke=Pt(X[1])+"")&&st(tn,ke)},i(X){lt||(J(()=>{kt||(kt=ot(t,ct,{},!0)),kt.run(1)}),lt=!0)},o(X){kt||(kt=ot(t,ct,{},!1)),kt.run(0),lt=!1},d(X){X&&S(t),X&&kt&&kt.end(),en=!1,Z(Hn)}}}function zi(e,t,n){let l,i;Y(e,A,o=>n(0,l=o)),Y(e,ee,o=>n(1,i=o));function s(o){switch(o.key){case"q":bt();break;case"Escape":kn();break}}return[l,i,s]}class Ji extends et{constructor(t){super(),tt(this,t,zi,Vi,Q,{})}}function Qi(e,{from:t,to:n},l={}){const i=getComputedStyle(e),s=i.transform==="none"?"":i.transform,[o,r]=i.transformOrigin.split(" ").map(parseFloat),u=t.left+t.width*o/n.width-(n.left+o),c=t.top+t.height*r/n.height-(n.top+r),{delay:f=0,duration:p=_=>Math.sqrt(_)*120,easing:a=Oe}=l;return{delay:f,duration:Yt(p)?p(Math.sqrt(u*u+c*c)):p,easing:a,css:(_,m)=>{const b=m*u,y=m*c,w=_+m*t.width/n.width,$=_+m*t.height/n.height;return`transform: ${s} translate(${b}px, ${y}px) scale(${w}, ${$});`}}}const Zi={duration:4e3,initial:1,next:0,pausable:!1,dismissable:!0,reversed:!1,intro:{x:256}},ts=()=>{const{subscribe:e,update:t}=ut([]);let n=0;const l={},i=c=>c instanceof Object;return{subscribe:e,push:(c,f={})=>{const p={target:"default",...i(c)?c:{...f,msg:c}},a=l[p.target]||{},_={...Zi,...a,...p,theme:{...a.theme,...p.theme},classes:[...a.classes||[],...p.classes||[]],id:++n};return t(m=>_.reversed?[...m,_]:[_,...m]),n},pop:c=>{t(f=>{if(!f.length||c===0)return[];if(i(c))return f.filter(a=>c(a));const p=c||Math.max(...f.map(a=>a.id));return f.filter(a=>a.id!==p)})},set:(c,f={})=>{const p=i(c)?{...c}:{...f,id:c};t(a=>{const _=a.findIndex(m=>m.id===p.id);return _>-1&&(a[_]={...a[_],...p}),a})},_init:(c="default",f={})=>(l[c]=f,l)}},Ht=ts();function zn(e){return Object.prototype.toString.call(e)==="[object Date]"}function dn(e,t){if(e===t||e!==e)return()=>e;const n=typeof e;if(n!==typeof t||Array.isArray(e)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const l=t.map((i,s)=>dn(e[s],i));return i=>l.map(s=>s(i))}if(n==="object"){if(!e||!t)throw new Error("Object cannot be null");if(zn(e)&&zn(t)){e=e.getTime(),t=t.getTime();const s=t-e;return o=>new Date(e+o*s)}const l=Object.keys(t),i={};return l.forEach(s=>{i[s]=dn(e[s],t[s])}),s=>{const o={};return l.forEach(r=>{o[r]=i[r](s)}),o}}if(n==="number"){const l=t-e;return i=>e+i*l}throw new Error(`Cannot interpolate ${n} values`)}function pn(e,t={}){const n=ut(e);let l,i=e;function s(o,r){if(e==null)return n.set(e=o),Promise.resolve();i=o;let u=l,c=!1,{delay:f=0,duration:p=400,easing:a=Tt,interpolate:_=dn}=sn(sn({},t),r);if(p===0)return u&&(u.abort(),u=null),n.set(e=i),Promise.resolve();const m=ne()+f;let b;return l=le(y=>{if(y<m)return!0;c||(b=_(e,o),typeof p=="function"&&(p=p(e,o)),c=!0),u&&(u.abort(),u=null);const w=y-m;return w>p?(n.set(e=o),!1):(n.set(e=b(a(w/p))),!0)}),l.promise}return{set:s,update:(o,r)=>s(o(i,e),r),subscribe:n.subscribe}}function es(e){let t,n=e[0].msg+"",l;return{c(){t=new Ul(!1),l=al(),t.a=l},m(i,s){t.m(n,i,s),I(i,l,s)},p(i,s){s&1&&n!==(n=i[0].msg+"")&&t.p(n)},i:j,o:j,d(i){i&&S(l),i&&t.d()}}}function ns(e){let t,n,l;const i=[e[2]];var s=e[0].component.src;function o(r){let u={};for(let c=0;c<i.length;c+=1)u=sn(u,i[c]);return{props:u}}return s&&(t=Yn(s,o())),{c(){t&&G(t.$$.fragment),n=al()},m(r,u){t&&F(t,r,u),I(r,n,u),l=!0},p(r,u){const c=u&4?zl(i,[Jl(r[2])]):{};if(s!==(s=r[0].component.src)){if(t){ht();const f=t;N(f.$$.fragment,1,0,()=>{q(f,1)}),mt()}s?(t=Yn(s,o()),G(t.$$.fragment),T(t.$$.fragment,1),F(t,n.parentNode,n)):t=null}else s&&t.$set(c)},i(r){l||(t&&T(t.$$.fragment,r),l=!0)},o(r){t&&N(t.$$.fragment,r),l=!1},d(r){r&&S(n),t&&q(t,r)}}}function Jn(e){let t,n,l;return{c(){t=h("div"),g(t,"class","_toastBtn pe svelte-l65oht"),g(t,"role","button"),g(t,"tabindex","0")},m(i,s){I(i,t,s),n||(l=[R(t,"click",e[4]),R(t,"keydown",e[8])],n=!0)},p:j,d(i){i&&S(t),n=!1,Z(l)}}}function ls(e){let t,n,l,i,s,o,r,u,c,f;const p=[ns,es],a=[];function _(b,y){return b[0].component?0:1}l=_(e),i=a[l]=p[l](e);let m=e[0].dismissable&&Jn(e);return{c(){t=h("div"),n=h("div"),i.c(),s=M(),m&&m.c(),o=M(),r=h("progress"),g(n,"role","status"),g(n,"class","_toastMsg svelte-l65oht"),rt(n,"pe",e[0].component),g(r,"class","_toastBar svelte-l65oht"),r.value=e[1],g(t,"class","_toastItem svelte-l65oht"),rt(t,"pe",e[0].pausable)},m(b,y){I(b,t,y),d(t,n),a[l].m(n,null),d(t,s),m&&m.m(t,null),d(t,o),d(t,r),u=!0,c||(f=[R(t,"mouseenter",e[9]),R(t,"mouseleave",e[6])],c=!0)},p(b,[y]){let w=l;l=_(b),l===w?a[l].p(b,y):(ht(),N(a[w],1,1,()=>{a[w]=null}),mt(),i=a[l],i?i.p(b,y):(i=a[l]=p[l](b),i.c()),T(i,1),i.m(n,null)),(!u||y&1)&&rt(n,"pe",b[0].component),b[0].dismissable?m?m.p(b,y):(m=Jn(b),m.c(),m.m(t,o)):m&&(m.d(1),m=null),(!u||y&2)&&(r.value=b[1]),(!u||y&1)&&rt(t,"pe",b[0].pausable)},i(b){u||(T(i),u=!0)},o(b){N(i),u=!1},d(b){b&&S(t),a[l].d(),m&&m.d(),c=!1,Z(f)}}}function is(e,t,n){let l,{item:i}=t;const s=pn(i.initial,{duration:i.duration,easing:Tt});Y(e,s,v=>n(1,l=v));const o=()=>Ht.pop(i.id),r=()=>{(l===1||l===0)&&o()};let u=i.initial,c=u,f=!1;const p=()=>{!f&&l!==u&&(s.set(l,{duration:0}),f=!0)},a=()=>{if(f){const v=i.duration,k=v-v*((l-c)/(u-c));s.set(u,{duration:k}).then(r),f=!1}};let _={};const m=(v,k="undefined")=>typeof v===k;let b;Mt((v=document)=>{if(m(v.hidden))return;const k=()=>v.hidden?p():a(),E="visibilitychange";v.addEventListener(E,k),b=()=>v.removeEventListener(E,k),k()}),_l(()=>{m(i.onpop,"function")&&i.onpop(i.id),b&&b()});const w=v=>{v instanceof KeyboardEvent&&["Enter"," "].includes(v.key)&&o()},$=()=>{i.pausable&&p()};return e.$$set=v=>{"item"in v&&n(0,i=v.item)},e.$$.update=()=>{if(e.$$.dirty&1&&(m(i.progress)||n(0,i.next=i.progress,i)),e.$$.dirty&131&&u!==i.next&&(n(7,u=i.next),c=l,f=!1,s.set(u).then(r)),e.$$.dirty&1&&i.component){const{props:v={},sendIdTo:k}=i.component;n(2,_={...v,...k&&{[k]:i.id}})}},[i,l,_,s,o,p,a,u,w,$]}class ss extends et{constructor(t){super(),tt(this,t,is,ls,Q,{item:0})}}function Qn(e,t,n){const l=e.slice();return l[5]=t[n],l}function Zn(e,t){let n,l,i,s,o,r,u,c,f=j,p;return l=new ss({props:{item:t[5]}}),{key:e,first:null,c(){n=h("li"),G(l.$$.fragment),i=M(),g(n,"class",s=Re(t[5].classes.join(" "))+" svelte-yh90az"),g(n,"style",o=t[1](t[5].theme)),this.first=n},m(a,_){I(a,n,_),F(l,n,null),d(n,i),p=!0},p(a,_){t=a;const m={};_&1&&(m.item=t[5]),l.$set(m),(!p||_&1&&s!==(s=Re(t[5].classes.join(" "))+" svelte-yh90az"))&&g(n,"class",s),(!p||_&1&&o!==(o=t[1](t[5].theme)))&&g(n,"style",o)},r(){c=n.getBoundingClientRect()},f(){Bl(n),f(),pl(n,c)},a(){f(),f=Hl(n,c,Qi,{duration:200})},i(a){p||(T(l.$$.fragment,a),J(()=>{u&&u.end(1),r=bn(n,qe,t[5].intro),r.start()}),p=!0)},o(a){N(l.$$.fragment,a),r&&r.invalidate(),u=ie(n,Fe,{}),p=!1},d(a){a&&S(n),q(l),a&&u&&u.end()}}}function rs(e){let t,n=[],l=new Map,i,s=e[0];const o=r=>r[5].id;for(let r=0;r<s.length;r+=1){let u=Qn(e,s,r),c=o(u);l.set(c,n[r]=Zn(c,u))}return{c(){t=h("ul");for(let r=0;r<n.length;r+=1)n[r].c();g(t,"class","_toastContainer svelte-yh90az")},m(r,u){I(r,t,u);for(let c=0;c<n.length;c+=1)n[c].m(t,null);i=!0},p(r,[u]){if(u&3){s=r[0],ht();for(let c=0;c<n.length;c+=1)n[c].r();n=Vl(n,u,o,1,r,s,l,t,Wl,Zn,null,Qn);for(let c=0;c<n.length;c+=1)n[c].a();mt()}},i(r){if(!i){for(let u=0;u<s.length;u+=1)T(n[u]);i=!0}},o(r){for(let u=0;u<n.length;u+=1)N(n[u]);i=!1},d(r){r&&S(t);for(let u=0;u<n.length;u+=1)n[u].d()}}}function os(e,t,n){let l;Y(e,Ht,u=>n(4,l=u));let{options:i={}}=t,{target:s="default"}=t,o;const r=u=>Object.keys(u).reduce((c,f)=>`${c}${f}:${u[f]};`,"");return e.$$set=u=>{"options"in u&&n(2,i=u.options),"target"in u&&n(3,s=u.target)},e.$$.update=()=>{e.$$.dirty&12&&Ht._init(s,i),e.$$.dirty&24&&n(0,o=l.filter(u=>u.target===s))},[o,r,i,s,l]}class cs extends et{constructor(t){super(),tt(this,t,os,rs,Q,{options:2,target:3})}}function us(e){let t,n,l,i;return n=new cs({props:{options:e[2],target:e[1]}}),{c(){t=h("div"),G(n.$$.fragment),g(t,"class",l=Re(`toast-wrapper-${e[0]}`)+" svelte-gbm9c2")},m(s,o){I(s,t,o),F(n,t,null),i=!0},p(s,[o]){const r={};o&4&&(r.options=s[2]),o&2&&(r.target=s[1]),n.$set(r),(!i||o&1&&l!==(l=Re(`toast-wrapper-${s[0]}`)+" svelte-gbm9c2"))&&g(t,"class",l)},i(s){i||(T(n.$$.fragment,s),i=!0)},o(s){N(n.$$.fragment,s),i=!1},d(s){s&&S(t),q(n)}}}function fs(e,t,n){const l={duration:1e3,initial:1,next:0,pausable:!0,dismissable:!1,reversed:!1,intro:{x:0},theme:{},classes:[]},i={duration:500,initial:1,next:0,pausable:!1,dismissable:!1,reversed:!0,intro:{y:20,duration:100},theme:{},classes:[]};let s;Mt(()=>{o==1?n(2,s=l):o==2&&n(2,s=i)});let{type:o=1}=t,{target:r=void 0}=t;return e.$$set=u=>{"type"in u&&n(0,o=u.type),"target"in u&&n(1,r=u.target)},[o,r,s]}class _n extends et{constructor(t){super(),tt(this,t,fs,us,Q,{type:0,target:1})}}function as(e,t=void 0){let n=t?{target:t}:void 0;Ht.push(e,n)}function ds(e,t=void 0){let n={initial:0,next:0};t&&(n.target=t),Ht.push(e,n)}function ps(){Ht.pop(0)}const at={show:as,persist:ds,clear:ps};function Ge(e,t){let n=e.dex/Math.max(e.dex+t.dex,1);if(t.evading()&&(n=n/4),n=Math.ceil(n*100),D(100)*ii<n)return wt(e.str)}function _s(){let e=P(A);e.evading()&&(e.status.evading=!1,A.set(e));let t=P(K),n=Ge(e,t);n&&(t.hp-=n,K.set(t),Et(Pe),t.ko()&&Et(wl)),at.show(Xe(n),Jt)}function hs(){let e=P(A);e.status.evading=!0,A.set(e)}function ms(){let e=P(A);e.status.fleeing=!0;var t=D(Math.floor(e.gp/2));e.gp-=t,t&&at.show(`Dropped ${t} gold`),A.set(e)}function vs(e,t){return Math.ceil(t/Math.max(e,1)*1e3*kl)}function tl(){return li*kl}function gs(){let e=P(A),t=P(K),n=t.xp,l=yn();t.fleeing()&&(n*=1-t.hp/t.hpbase,n=Math.floor(Math.min(n,l-e.xp-1))),n=Math.ceil(n*t.lvl/e.lvl),n&&(e.xp+=n,at.persist(`Gained ${n} experience`,Jt)),t.gp&&!t.fleeing()&&(e.gp+=t.gp,at.persist(`Found ${t.gp} gold`,Jt)),A.set(e),e.xp>=l&&(wi(),at.persist("Level up!",Jt))}const Xe=e=>e===void 0?"Miss":`${e}`;function bs(e){let t="enc",n=se(Ue*e),l=n.hp+vl*3,i=n.str+gl*2,s=Math.ceil(n.dex/2),o=D(bl*5),r=Math.ceil(wt(l+i+s)/2);K.set(new He(t,e,l,i,s,r,o)),Bt.set(ks),We.set("dragon")}function ks(){let e=P(K),t=P(A),n=Ge(e,t);n?(t.hp-=n,A.set(t),$t.set(0)):n===void 0&&(Et($t),t.evading()&&Et(Ft)),at.show(Xe(n),De)}function ys(){if(D(1)==1)return;let e=P(K);if(D(1)==1)e.status.fleeing=!0,K.set(e);else{let t=P(A),n=Ge(e,t);n?(t.hp-=n,A.set(t),$t.set(0)):n===void 0&&(Et($t),t.evading()&&Et(Ft)),at.show(Xe(n),De)}}function $s(e){let t="enc",n=se(Ue/2*e),l=n.hp+1,i=n.str+1,s=n.dex+1,o=0,r=Math.ceil(wt(l+i+s)/2);K.set(new He(t,e,l,i,s,r,o)),Bt.set(void 0),We.set("rat")}function ws(){let e=D(100),t=gt.location(),n=wt(t.distance,.1)/wt(50,.25);n=Math.ceil(Math.max(n,1));let l=Ss.filter(i=>e<i.freq&&n>=i.minLvl&&n<=i.maxLvl&&i.at(t.terrain,t.nearby));l.length&&(l[D(l.length-1)].init(n),console.log(JSON.stringify(P(K))),P(Bt)||Bt.set(jl),$t.set(0))}const We=ut(),Bt=ut(),$t=ut(0),K=ut();function Cn(e,t,n){let l="enc",i=se(Ue*e),s=i.hp+vl,o=i.str+gl,r=i.dex+ni,u=D(bl),c=Math.ceil(wt(s+o+r)/2);K.set(new He(l,e,s,o,r,c,u)),Bt.set(n??jl),We.set(t[D(t.length-1)])}function jl(){let e=P(K);if(P($t)>3&&D(1)==1)e.status.fleeing=!0,K.set(e);else{let t=P(A),n=Ge(e,t);n?(t.hp-=n,A.set(t),$t.set(0)):n===void 0&&(Et($t),t.evading()&&Et(Ft)),at.show(Xe(n),De)}}let Wt=class{constructor(t,n,l,i,s,o){Gt(this,"at",(t,n)=>this.terrains.includes(t)||this.near.filter(l=>n.includes(l)).length);this.init=t,this.freq=n,this.minLvl=l,this.maxLvl=i,this.terrains=s,this.near=o??[]}},Es=e=>Cn(e,["wolf","boar","goblin"]),Ms=e=>Cn(e,["fencer"]),Cs=e=>Cn(e,["ghost"],ys);const Ss=[new Wt($s,100,1,1,[dt.PLAIN]),new Wt(Es,100,1,100,[dt.PLAIN,dt.FOREST]),new Wt(Ms,100,1,100,[],[dt.CITY]),new Wt(Cs,50,2,100,[dt.FOREST]),new Wt(bs,20,3,100,[dt.PLAIN,dt.FOREST])];function Ts(e){let t;return{c(){t=h("div")},m(n,l){I(n,t,l)},p:j,i:j,o:j,d(n){n&&S(t)}}}function Is(e){let t,n,l,i;return{c(){t=h("div"),g(t,"class","icon map-u svelte-btrsmh"),rt(t,"rejoice",e[1].ko())},m(s,o){I(s,t,o),i=!0},p(s,o){e=s,(!i||o&2)&&rt(t,"rejoice",e[1].ko())},i(s){i||(J(()=>{l&&l.end(1),n=bn(t,qe,e[3]),n.start()}),i=!0)},o(s){n&&n.invalidate(),l=ie(t,e[5],{}),i=!1},d(s){s&&S(t),s&&l&&l.end()}}}function el(e){let t,n,l,i,s,o;return{c(){t=h("div"),n=h("div"),g(n,"class",l="icon "+e[2]+" svelte-btrsmh"),rt(n,"rejoice",e[0].ko()),g(t,"class","col enc img svelte-btrsmh")},m(r,u){I(r,t,u),d(t,n),o=!0},p(r,u){e=r,(!o||u&4&&l!==(l="icon "+e[2]+" svelte-btrsmh"))&&g(n,"class",l),(!o||u&5)&&rt(n,"rejoice",e[0].ko())},i(r){o||(J(()=>{s&&s.end(1),i=bn(n,qe,e[4]),i.start()}),o=!0)},o(r){i&&i.invalidate(),s=ie(n,e[6],{}),o=!1},d(r){r&&S(t),r&&s&&s.end()}}}function js(e){let t,n,l,i,s,o,r,u,c,f,p,a,_,m,b=!e[1].ko()&&!e[1].fleeing(),y;const w=[Is,Ts],$=[];function v(E,C){return C&1&&(i=null),i==null&&(i=!E[0].ko()&&!E[0].fleeing()),i?0:1}s=v(e,-1),o=$[s]=w[s](e),c=new _n({props:{target:De,type:2}}),_=new _n({props:{target:Jt,type:2}});let k=b&&el(e);return{c(){t=h("div"),n=h("div"),l=h("div"),o.c(),r=M(),u=h("div"),G(c.$$.fragment),f=M(),p=h("div"),a=h("div"),G(_.$$.fragment),m=M(),k&&k.c(),g(l,"class","col user img svelte-btrsmh"),g(u,"class","col toast"),g(n,"class","row"),g(a,"class","col toast"),g(p,"class","row"),g(t,"class","row imgs svelte-btrsmh")},m(E,C){I(E,t,C),d(t,n),d(n,l),$[s].m(l,null),d(n,r),d(n,u),F(c,u,null),d(t,f),d(t,p),d(p,a),F(_,a,null),d(p,m),k&&k.m(p,null),y=!0},p(E,[C]){let L=s;s=v(E,C),s===L?$[s].p(E,C):(ht(),N($[L],1,1,()=>{$[L]=null}),mt(),o=$[s],o?o.p(E,C):(o=$[s]=w[s](E),o.c()),T(o,1),o.m(l,null)),C&2&&(b=!E[1].ko()&&!E[1].fleeing()),b?k?(k.p(E,C),C&2&&T(k,1)):(k=el(E),k.c(),T(k,1),k.m(p,null)):k&&(ht(),N(k,1,1,()=>{k=null}),mt())},i(E){y||(T(o),T(c.$$.fragment,E),T(_.$$.fragment,E),T(k),y=!0)},o(E){N(o),N(c.$$.fragment,E),N(_.$$.fragment,E),N(k),y=!1},d(E){E&&S(t),$[s].d(),q(c),q(_),k&&k.d()}}}function Ns(e,t,n){let l,i,s;Y(e,A,a=>n(0,l=a)),Y(e,K,a=>n(1,i=a)),Y(e,We,a=>n(2,s=a));const o={x:40,duration:un},r={x:-40,duration:un},u={amount:40,duration:cn};function c(a,_,m,b,y){if(!y){if(m)return pi(a,u);{let w=b;return _||(w.x*=-1),qe(a,w)}}}function f(a){return c(a,i.ko(),l.ko(),o)}function p(a){return c(a,l.ko(),i.ko(),r,l.ko()||l.fleeing())}return[l,i,s,o,r,f,p]}class xs extends et{constructor(t){super(),tt(this,t,Ns,js,Q,{})}}function Rs(e){let t;return{c(){t=h("div")},m(n,l){I(n,t,l)},p:j,i:j,o:j,d(n){n&&S(t)}}}function As(e){let t,n,l,i,s,o=e[1].lvl+"",r,u;return{c(){t=h("progress"),l=M(),i=h("span"),s=U("Level "),r=U(o),t.value=e[2],g(t,"class","svelte-1ly7opp"),g(i,"class","lvl svelte-1ly7opp")},m(c,f){I(c,t,f),I(c,l,f),I(c,i,f),d(i,s),d(i,r),u=!0},p(c,f){(!u||f&4)&&(t.value=c[2]),(!u||f&2)&&o!==(o=c[1].lvl+"")&&st(r,o)},i(c){u||(n&&n.end(1),u=!0)},o(c){n=ie(t,Fe,{duration:100}),u=!1},d(c){c&&S(t),c&&n&&n.end(),c&&S(l),c&&S(i)}}}function Ls(e){let t;return{c(){t=h("div")},m(n,l){I(n,t,l)},p:j,i:j,o:j,d(n){n&&S(t)}}}function Os(e){let t,n,l,i,s,o=e[0].lvl+"",r,u;return{c(){t=h("progress"),l=M(),i=h("span"),s=U("Level "),r=U(o),t.value=e[3],g(t,"class","svelte-1ly7opp"),g(i,"class","lvl svelte-1ly7opp")},m(c,f){I(c,t,f),I(c,l,f),I(c,i,f),d(i,s),d(i,r),u=!0},p(c,f){(!u||f&8)&&(t.value=c[3]),(!u||f&1)&&o!==(o=c[0].lvl+"")&&st(r,o)},i(c){u||(n&&n.end(1),u=!0)},o(c){n=ie(t,Fe,{duration:100}),u=!1},d(c){c&&S(t),c&&n&&n.end(),c&&S(l),c&&S(i)}}}function Ps(e){let t,n,l,i,s,o,r,u,c,f,p;const a=[As,Rs],_=[];function m($,v){return v&2&&(l=null),l==null&&(l=!$[1].ko()&&!$[1].fleeing()),l?0:1}i=m(e,-1),s=_[i]=a[i](e);const b=[Os,Ls],y=[];function w($,v){return v&1&&(u=null),u==null&&(u=!$[0].ko()&&!$[0].fleeing()),u?0:1}return c=w(e,-1),f=y[c]=b[c](e),{c(){t=h("div"),n=h("div"),s.c(),o=M(),r=h("div"),f.c(),g(n,"class","col user"),g(r,"class","col enc"),g(t,"class","row info svelte-1ly7opp")},m($,v){I($,t,v),d(t,n),_[i].m(n,null),d(t,o),d(t,r),y[c].m(r,null),p=!0},p($,[v]){let k=i;i=m($,v),i===k?_[i].p($,v):(ht(),N(_[k],1,1,()=>{_[k]=null}),mt(),s=_[i],s?s.p($,v):(s=_[i]=a[i]($),s.c()),T(s,1),s.m(n,null));let E=c;c=w($,v),c===E?y[c].p($,v):(ht(),N(y[E],1,1,()=>{y[E]=null}),mt(),f=y[c],f?f.p($,v):(f=y[c]=b[c]($),f.c()),T(f,1),f.m(r,null))},i($){p||(T(s),T(f),p=!0)},o($){N(s),N(f),p=!1},d($){$&&S(t),_[i].d(),y[c].d()}}}function Us(e,t,n){let l,i,s,o;Y(e,K,c=>n(0,l=c)),Y(e,A,c=>n(1,i=c));const r=pn(0,{duration:Gn,easing:Oe});Y(e,r,c=>n(2,s=c));const u=pn(0,{duration:Gn,easing:Oe});return Y(e,u,c=>n(3,o=c)),e.$$.update=()=>{e.$$.dirty&2&&i.hp&&r.set(i.hp/i.hpbase),e.$$.dirty&1&&l.hp&&u.set(l.hp/l.hpbase)},[l,i,s,o,r,u]}class Ds extends et{constructor(t){super(),tt(this,t,Us,Ps,Q,{})}}function Fs(e){let t,n,l,i,s,o;return{c(){t=h("div"),n=h("div"),l=h("div"),i=M(),s=h("div"),o=h("div"),g(l,"class","circle svelte-1uajhnl"),pt(l,"transform",`rotate(${Math.min(e[1],180)}deg)`),g(n,"class","wrapper wrapper1 svelte-1uajhnl"),g(o,"class","circle svelte-1uajhnl"),rt(o,"hidden",e[0]<=50),pt(o,"transform",`rotate(${e[1]}deg)`),g(s,"class","wrapper wrapper2 svelte-1uajhnl"),g(t,"class","progress-bar svelte-1uajhnl"),rt(t,"hidden",e[0]>=100)},m(r,u){I(r,t,u),d(t,n),d(n,l),d(t,i),d(t,s),d(s,o)},p(r,[u]){u&2&&pt(l,"transform",`rotate(${Math.min(r[1],180)}deg)`),u&1&&rt(o,"hidden",r[0]<=50),u&2&&pt(o,"transform",`rotate(${r[1]}deg)`),u&1&&rt(t,"hidden",r[0]>=100)},i:j,o:j,d(r){r&&S(t)}}}const nl=100;function qs(e,t,n){let l;const i=hl();function s(){n(5,c+=nl),f>=100&&(clearInterval(p),i("ready"))}function o(a){p&&clearInterval(p),n(4,u=a),n(5,c=0),p=setInterval(s,nl)}function r(){n(5,c=u)}let u=1e3,c,f,p;return e.$$.update=()=>{e.$$.dirty&48&&n(0,f=c/u*100),e.$$.dirty&1&&n(1,l=f*3.6)},[f,l,o,r,u,c]}class Hs extends et{constructor(t){super(),tt(this,t,qs,Fs,Q,{start:2,cancel:3})}get start(){return this.$$.ctx[2]}get cancel(){return this.$$.ctx[3]}}function ll(e){let t,n,l,i;return t=new xs({}),l=new Ds({}),{c(){G(t.$$.fragment),n=M(),G(l.$$.fragment)},m(s,o){F(t,s,o),I(s,n,o),F(l,s,o),i=!0},i(s){i||(T(t.$$.fragment,s),T(l.$$.fragment,s),i=!0)},o(s){N(t.$$.fragment,s),N(l.$$.fragment,s),i=!1},d(s){q(t,s),s&&S(n),q(l,s)}}}function il(e){let t,n,l,i,s,o,r,u,c,f,p,a,_,m,b,y={};p=new Hs({props:y}),e[16](p),p.$on("ready",e[10]);function w(k,E){if(k[8])return Ks;if(k[0]&&k[5])return Ys;if(k[1]&&k[5])return Bs}let $=w(e),v=$&&$(e);return{c(){t=h("div"),n=h("div"),l=h("button"),i=U("Strike"),o=M(),r=h("button"),u=U("Evade"),f=M(),G(p.$$.fragment),a=M(),v&&v.c(),l.disabled=s=!e[4],r.disabled=c=!e[4],g(t,"class","ctrls col")},m(k,E){I(k,t,E),d(t,n),d(n,l),d(l,i),d(n,o),d(n,r),d(r,u),d(n,f),F(p,n,null),d(t,a),v&&v.m(t,null),_=!0,m||(b=[R(l,"click",e[11]),R(r,"click",e[12])],m=!0)},p(k,E){(!_||E&16&&s!==(s=!k[4]))&&(l.disabled=s),(!_||E&16&&c!==(c=!k[4]))&&(r.disabled=c);const C={};p.$set(C),$===($=w(k))&&v?v.p(k,E):(v&&v.d(1),v=$&&$(k),v&&(v.c(),v.m(t,null)))},i(k){_||(T(p.$$.fragment,k),_=!0)},o(k){N(p.$$.fragment,k),_=!1},d(k){k&&S(t),e[16](null),q(p),v&&v.d(),m=!1,Z(b)}}}function Bs(e){let t,n,l;return{c(){t=h("button"),t.textContent="Reset"},m(i,s){I(i,t,s),n||(l=R(t,"click",e[15]),n=!0)},p:j,d(i){i&&S(t),n=!1,l()}}}function Ys(e){let t,n,l;return{c(){t=h("button"),t.textContent="Proceed"},m(i,s){I(i,t,s),n||(l=R(t,"click",e[14]),n=!0)},p:j,d(i){i&&S(t),n=!1,l()}}}function Ks(e){let t,n,l;return{c(){t=h("button"),t.textContent="Flee"},m(i,s){I(i,t,s),n||(l=R(t,"click",e[13]),n=!0)},p:j,d(i){i&&S(t),n=!1,l()}}}function Gs(e){let t,n,l,i=!e[3].fleeing(),s,o,r,u,c=e[2]&&!e[6]&&ll(),f=i&&il(e);return{c(){t=h("div"),n=h("div"),c&&c.c(),l=M(),f&&f.c(),g(n,"class","view field svelte-1tqkonl")},m(p,a){I(p,t,a),d(t,n),c&&c.m(n,null),d(t,l),f&&f.m(t,null),o=!0,r||(u=R(window,"keydown",e[9]),r=!0)},p(p,[a]){p[2]&&!p[6]?c?a&68&&T(c,1):(c=ll(),c.c(),T(c,1),c.m(n,null)):c&&(ht(),N(c,1,1,()=>{c=null}),mt()),a&8&&(i=!p[3].fleeing()),i?f?(f.p(p,a),a&8&&T(f,1)):(f=il(p),f.c(),T(f,1),f.m(t,null)):f&&(ht(),N(f,1,1,()=>{f=null}),mt())},i(p){o||(T(c),T(f),J(()=>{s||(s=ot(t,ct,{},!0)),s.run(1)}),o=!0)},o(p){N(c),N(f),s||(s=ot(t,ct,{},!1)),s.run(0),o=!1},d(p){p&&S(t),c&&c.d(),f&&f.d(),p&&s&&s.end(),r=!1,u()}}}function Xs(e,t,n){let l,i,s;Y(e,K,W=>n(2,i=W)),Y(e,A,W=>n(3,s=W));function o(W){switch(W.key){case"f":c();break;case"v":f();break;case"q":l?p():C&&k?b():L&&k&&y();break}}function r(){l&&($=wt(tl()),x.start($))}function u(){l&&n(4,v=!0)}function c(){v&&(n(4,v=!1),_s(),setTimeout(r,1))}function f(){v&&(n(4,v=!1),hs(),setTimeout(r,1))}function p(){x.cancel(),ms(),yt(1e3,bt)}function a(){l&&(P(Bt)(),nt=yt(wt(w),a))}function _(){n(0,C=!0),x.cancel(),n(4,v=!1),yt(cn,()=>{gs(),n(5,k=!0)})}function m(){n(1,L=!0),x.cancel(),n(4,v=!1),yt(cn,()=>{at.persist("Game over"),n(5,k=!0)})}function b(){n(6,E=!0),yt(un,bt)}function y(){kn()}Mt(()=>{ws(),w=vs(i.dex,s.dex),$=tl();const W=A.subscribe(H=>{H!=null&&H.ko()&&m()}),re=K.subscribe(H=>{(H!=null&&H.ko()||H!=null&&H.fleeing())&&_()});return nt=yt(D(w),a),x.start($),()=>{x==null||x.cancel(),clearTimeout(nt),re(),W(),Dt(A,s.status.fleeing=!1,s),Dt(K,i=null,i)}});let w,$,v,k,E,C,L,x,nt;function vt(W){rn[W?"unshift":"push"](()=>{x=W,n(7,x)})}return e.$$.update=()=>{e.$$.dirty&15&&n(8,l=!C&&!L&&!s.fleeing()&&!(i!=null&&i.fleeing()))},[C,L,i,s,v,k,E,x,l,o,u,c,f,p,b,y,vt]}class Ws extends et{constructor(t){super(),tt(this,t,Xs,Gs,Q,{})}}function sl(e){let t,n,l,i=e[0].innCost+"",s,o;return{c(){t=h("p"),t.textContent="Inn",n=M(),l=h("p"),s=U(i),o=U(" gold per night")},m(r,u){I(r,t,u),I(r,n,u),I(r,l,u),d(l,s),d(l,o)},p(r,u){u&1&&i!==(i=r[0].innCost+"")&&st(s,i)},d(r){r&&S(t),r&&S(n),r&&S(l)}}}function Vs(e){let t,n,l,i,s,o,r,u,c,f,p,a=e[0]&&sl(e);return{c(){t=h("div"),n=h("div"),a&&a.c(),l=M(),i=h("div"),s=h("button"),s.textContent="Rest",o=M(),r=h("button"),r.textContent="Leave",g(n,"class","view col"),g(i,"class","ctrls")},m(_,m){I(_,t,m),d(t,n),a&&a.m(n,null),d(t,l),d(t,i),d(i,s),d(i,o),d(i,r),c=!0,f||(p=[R(window,"keydown",e[1]),R(s,"click",e[2]),R(r,"click",bt)],f=!0)},p(_,[m]){_[0]?a?a.p(_,m):(a=sl(_),a.c(),a.m(n,null)):a&&(a.d(1),a=null)},i(_){c||(J(()=>{u||(u=ot(t,ct,{},!0)),u.run(1)}),c=!0)},o(_){u||(u=ot(t,ct,{},!1)),u.run(0),c=!1},d(_){_&&S(t),a&&a.d(),_&&u&&u.end(),f=!1,Z(p)}}}function zs(e,t,n){let l;Y(e,A,r=>n(3,l=r));function i(r){switch(r.key){case"q":bt();break;case"r":s();break}}function s(){l.gp>=o.innCost?(Dt(A,l.gp-=o.innCost,l),mi()):at.show("Not enough gold")}Mt(()=>{let r=gt.location().abs;n(0,o=Yi(r.x,r.y))});let o;return[o,i,s]}class Js extends et{constructor(t){super(),tt(this,t,zs,Vs,Q,{})}}function Qs(e){let t,n,l,i,s;return{c(){t=h("div"),n=h("div"),l=h("div"),g(l,"class","icon moon"),pt(l,"margin-top","80px"),g(n,"class","view")},m(o,r){I(o,t,r),d(t,n),d(n,l),s=!0},p:j,i(o){s||(J(()=>{i||(i=ot(t,ct,{},!0)),i.run(1)}),s=!0)},o(o){i||(i=ot(t,ct,{},!1)),i.run(0),s=!1},d(o){o&&S(t),o&&i&&i.end()}}}function Zs(e,t,n){let l;return Y(e,A,i=>n(0,l=i)),Mt(()=>{Dt(A,l.hp=l.hpbase,l),yt(2e3,bt)}),[]}class tr extends et{constructor(t){super(),tt(this,t,Zs,Qs,Q,{})}}function er(e){let t,n;return t=new tr({}),{c(){G(t.$$.fragment)},m(l,i){F(t,l,i),n=!0},i(l){n||(T(t.$$.fragment,l),n=!0)},o(l){N(t.$$.fragment,l),n=!1},d(l){q(t,l)}}}function nr(e){let t,n;return t=new Js({}),{c(){G(t.$$.fragment)},m(l,i){F(t,l,i),n=!0},i(l){n||(T(t.$$.fragment,l),n=!0)},o(l){N(t.$$.fragment,l),n=!1},d(l){q(t,l)}}}function lr(e){let t,n;return t=new Ws({}),{c(){G(t.$$.fragment)},m(l,i){F(t,l,i),n=!0},i(l){n||(T(t.$$.fragment,l),n=!0)},o(l){N(t.$$.fragment,l),n=!1},d(l){q(t,l)}}}function ir(e){let t,n;return t=new Ji({}),{c(){G(t.$$.fragment)},m(l,i){F(t,l,i),n=!0},i(l){n||(T(t.$$.fragment,l),n=!0)},o(l){N(t.$$.fragment,l),n=!1},d(l){q(t,l)}}}function sr(e){let t,n;return t=new Wi({}),{c(){G(t.$$.fragment)},m(l,i){F(t,l,i),n=!0},i(l){n||(T(t.$$.fragment,l),n=!0)},o(l){N(t.$$.fragment,l),n=!1},d(l){q(t,l)}}}function rr(e){let t,n;return t=new Ui({}),{c(){G(t.$$.fragment)},m(l,i){F(t,l,i),n=!0},i(l){n||(T(t.$$.fragment,l),n=!0)},o(l){N(t.$$.fragment,l),n=!1},d(l){q(t,l)}}}function or(e){let t,n,l,i,s,o;n=new _n({});const r=[rr,sr,ir,lr,nr,er],u=[];function c(f,p){return f[0]==it.TITLE?0:f[0]==it.MAP?1:f[0]==it.MENU?2:f[0]==it.ENC?3:f[0]==it.CITY?4:f[0]==it.SLEEP?5:-1}return~(i=c(e))&&(s=u[i]=r[i](e)),{c(){t=h("main"),G(n.$$.fragment),l=M(),s&&s.c()},m(f,p){I(f,t,p),F(n,t,null),d(t,l),~i&&u[i].m(t,null),o=!0},p(f,[p]){let a=i;i=c(f),i!==a&&(s&&(ht(),N(u[a],1,1,()=>{u[a]=null}),mt()),~i?(s=u[i],s||(s=u[i]=r[i](f),s.c()),T(s,1),s.m(t,null)):s=null)},i(f){o||(T(n.$$.fragment,f),T(s),o=!0)},o(f){N(n.$$.fragment,f),N(s),o=!1},d(f){f&&S(t),q(n),~i&&u[i].d()}}}function cr(e,t,n){let l;Mt(()=>{l=It.subscribe(s=>{n(0,i=void 0),at.clear(),yt(yl,()=>{n(0,i=s)})})}),_l(l);let i;return[i]}class ur extends et{constructor(t){super(),tt(this,t,cr,or,Q,{})}}new ur({target:document.getElementById("app")});
